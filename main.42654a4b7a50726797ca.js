/*! For license information please see main.42654a4b7a50726797ca.js.LICENSE.txt */
!function(){var e={497:function(e,t,n){"use strict";n(4114),n(3609);var r,a="object"==typeof Reflect?Reflect:null,o=a&&"function"==typeof a.apply?a.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function a(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",a),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,a)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var a,o,i,s;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),i=o[t]),void 0===i)i=o[t]=n,++e._eventsCount;else if("function"==typeof i?i=o[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(a=u(e))>0&&i.length>a&&!i.warned){i.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=i.length,s=c,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=p.bind(r);return a.listener=n,r.wrapFn=a,a}function h(e,t,n){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):g(a,a.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function a(o){r.once&&e.removeEventListener(t,a),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,u=g(c,l);for(n=0;n<l;++n)o(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,a,o,i;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){i=n[o].listener,a=o;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(a=o[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},1163:function(e,t,n){n(4114),n(4979),"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){"use strict";if("Element"in e){var t="classList",n="prototype",r=e.Element[n],a=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},c=function(e,t){if(""===t)throw new s("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","The token must not contain space characters.");return i.call(e,t)},l=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,a=n.length;r<a;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=l[n]=[],d=function(){return new l(this)};if(s[n]=Error[n],u.item=function(e){return this[e]||null},u.contains=function(e){return~c(this,e+"")},u.add=function(){var e,t=arguments,n=0,r=t.length,a=!1;do{~c(this,e=t[n]+"")||(this.push(e),a=!0)}while(++n<r);a&&this._updateClassName()},u.remove=function(){var e,t,n=arguments,r=0,a=n.length,o=!1;do{for(t=c(this,e=n[r]+"");~t;)this.splice(t,1),o=!0,t=c(this,e)}while(++r<a);o&&this._updateClassName()},u.toggle=function(e,t){var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},u.replace=function(e,t){var n=c(e+"");~n&&(this.splice(n,1,t),this._updateClassName())},u.toString=function(){return this.join(" ")},a.defineProperty){var p={get:d,enumerable:!0,configurable:!0};try{a.defineProperty(r,t,p)}catch(e){void 0!==e.number&&-2146823252!==e.number||(p.enumerable=!1,a.defineProperty(r,t,p))}}else a[n].__defineGetter__&&r.__defineGetter__(t,d)}}(self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var n=this.toString().split(" "),r=n.indexOf(e+"");~r&&(n=n.slice(r),this.remove.apply(this,n),this.add(t),this.add.apply(this,n.slice(1)))}),e=null}())},5580:function(e,t,n){var r=n(6110)(n(9325),"DataView");e.exports=r},1549:function(e,t,n){var r=n(2032),a=n(3862),o=n(6721),i=n(2749),s=n(5749);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},79:function(e,t,n){var r=n(3702),a=n(80),o=n(4739),i=n(8655),s=n(1175);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},8223:function(e,t,n){var r=n(6110)(n(9325),"Map");e.exports=r},3661:function(e,t,n){var r=n(3040),a=n(7670),o=n(289),i=n(4509),s=n(2949);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},2804:function(e,t,n){var r=n(6110)(n(9325),"Promise");e.exports=r},6545:function(e,t,n){var r=n(6110)(n(9325),"Set");e.exports=r},8859:function(e,t,n){var r=n(3661),a=n(1380),o=n(1459);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},7217:function(e,t,n){var r=n(79),a=n(1420),o=n(938),i=n(3605),s=n(9817),c=n(945);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=c,e.exports=l},1873:function(e,t,n){var r=n(9325).Symbol;e.exports=r},7828:function(e,t,n){var r=n(9325).Uint8Array;e.exports=r},8303:function(e,t,n){var r=n(6110)(n(9325),"WeakMap");e.exports=r},3729:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},9770:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},5325:function(e,t,n){var r=n(6131);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},9905:function(e){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},695:function(e,t,n){var r=n(8096),a=n(2428),o=n(6449),i=n(3656),s=n(361),c=n(7167),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&a(e),d=!n&&!u&&i(e),p=!n&&!u&&!d&&c(e),f=n||u||d||p,h=f?r(e.length,String):[],m=h.length;for(var g in e)!t&&!l.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},4932:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},4528:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},4248:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},6547:function(e,t,n){var r=n(3360),a=n(5288),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},6025:function(e,t,n){var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},4733:function(e,t,n){var r=n(1791),a=n(5950);e.exports=function(e,t){return e&&r(t,a(t),e)}},3838:function(e,t,n){var r=n(1791),a=n(7241);e.exports=function(e,t){return e&&r(t,a(t),e)}},3360:function(e,t,n){var r=n(3243);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},9999:function(e,t,n){var r=n(7217),a=n(3729),o=n(6547),i=n(4733),s=n(3838),c=n(3290),l=n(3007),u=n(2271),d=n(8948),p=n(2),f=n(3349),h=n(5861),m=n(6189),g=n(7199),y=n(5529),v=n(6449),b=n(3656),w=n(7730),k=n(3805),x=n(8440),E=n(5950),D=n(7241),C="[object Arguments]",L="[object Function]",j="[object Object]",M={};M[C]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[j]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[L]=M["[object WeakMap]"]=!1,e.exports=function e(t,n,S,O,T,P){var N,I=1&n,F=2&n,_=4&n;if(S&&(N=T?S(t,O,T,P):S(t)),void 0!==N)return N;if(!k(t))return t;var A=v(t);if(A){if(N=m(t),!I)return l(t,N)}else{var $=h(t),W=$==L||"[object GeneratorFunction]"==$;if(b(t))return c(t,I);if($==j||$==C||W&&!T){if(N=F||W?{}:y(t),!I)return F?d(t,s(N,t)):u(t,i(N,t))}else{if(!M[$])return T?t:{};N=g(t,$,I)}}P||(P=new r);var R=P.get(t);if(R)return R;P.set(t,N),x(t)?t.forEach((function(r){N.add(e(r,n,S,r,t,P))})):w(t)&&t.forEach((function(r,a){N.set(a,e(r,n,S,a,t,P))}));var B=A?void 0:(_?F?f:p:F?D:E)(t);return a(B||t,(function(r,a){B&&(r=t[a=r]),o(N,a,e(r,n,S,a,t,P))})),N}},9344:function(e,t,n){var r=n(3805),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},2523:function(e){e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},7422:function(e,t,n){var r=n(1769),a=n(7797);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},2199:function(e,t,n){var r=n(4528),a=n(6449);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},2552:function(e,t,n){var r=n(1873),a=n(659),o=n(9350),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},8077:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},6131:function(e,t,n){var r=n(2523),a=n(5463),o=n(6959);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},7534:function(e,t,n){var r=n(2552),a=n(346);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},270:function(e,t,n){var r=n(7068),a=n(346);e.exports=function e(t,n,o,i,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:r(t,n,o,i,e,s))}},7068:function(e,t,n){var r=n(7217),a=n(5911),o=n(1986),i=n(689),s=n(5861),c=n(6449),l=n(3656),u=n(7167),d="[object Arguments]",p="[object Array]",f="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=c(e),b=c(t),w=v?p:s(e),k=b?p:s(t),x=(w=w==d?f:w)==f,E=(k=k==d?f:k)==f,D=w==k;if(D&&l(e)){if(!l(t))return!1;v=!0,x=!1}if(D&&!x)return y||(y=new r),v||u(e)?a(e,t,n,m,g,y):o(e,t,w,n,m,g,y);if(!(1&n)){var C=x&&h.call(e,"__wrapped__"),L=E&&h.call(t,"__wrapped__");if(C||L){var j=C?e.value():e,M=L?t.value():t;return y||(y=new r),g(j,M,n,m,y)}}return!!D&&(y||(y=new r),i(e,t,n,m,g,y))}},9172:function(e,t,n){var r=n(5861),a=n(346);e.exports=function(e){return a(e)&&"[object Map]"==r(e)}},1799:function(e,t,n){var r=n(7217),a=n(270);e.exports=function(e,t,n,o){var i=n.length,s=i,c=!o;if(null==e)return!s;for(e=Object(e);i--;){var l=n[i];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var u=(l=n[i])[0],d=e[u],p=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var h=o(d,p,u,e,t,f);if(!(void 0===h?a(p,d,3,o,f):h))return!1}}return!0}},5463:function(e){e.exports=function(e){return e!=e}},5083:function(e,t,n){var r=n(1882),a=n(7296),o=n(3805),i=n(7473),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?p:s).test(i(e))}},6038:function(e,t,n){var r=n(5861),a=n(346);e.exports=function(e){return a(e)&&"[object Set]"==r(e)}},7282:function(e,t,n){var r=n(2552),a=n(294),o=n(346),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},5389:function(e,t,n){var r=n(3663),a=n(7978),o=n(3488),i=n(6449),s=n(583);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):s(e)}},8984:function(e,t,n){var r=n(5527),a=n(3650),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2903:function(e,t,n){var r=n(3805),a=n(5527),o=n(181),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},3663:function(e,t,n){var r=n(1799),a=n(776),o=n(7197);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},7978:function(e,t,n){var r=n(270),a=n(8156),o=n(631),i=n(8586),s=n(756),c=n(7197),l=n(7797);e.exports=function(e,t){return i(e)&&s(t)?c(l(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?o(n,e):r(t,i,3)}}},7237:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7255:function(e,t,n){var r=n(7422);e.exports=function(e){return function(t){return r(t,e)}}},6151:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,o){for(var i=-1,s=n(t((r-e)/(a||1)),0),c=Array(s);s--;)c[o?s:++i]=e,e+=a;return c}},8470:function(e,t,n){var r=n(4116),a=n(3488),o=n(4394);e.exports=function(e,t,n){var i=0,s=null==e?i:e.length;if("number"==typeof t&&t==t&&s<=2147483647){for(;i<s;){var c=i+s>>>1,l=e[c];null!==l&&!o(l)&&(n?l<=t:l<t)?i=c+1:s=c}return s}return r(e,t,a,n)}},4116:function(e,t,n){var r=n(4394),a=Math.floor,o=Math.min;e.exports=function(e,t,n,i){var s=0,c=null==e?0:e.length;if(0===c)return 0;for(var l=(t=n(t))!=t,u=null===t,d=r(t),p=void 0===t;s<c;){var f=a((s+c)/2),h=n(e[f]),m=void 0!==h,g=null===h,y=h==h,v=r(h);if(l)var b=i||y;else b=p?y&&(i||m):u?y&&m&&(i||!g):d?y&&m&&!g&&(i||!v):!g&&!v&&(i?h<=t:h<t);b?s=f+1:c=f}return o(c,4294967294)}},8096:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},7556:function(e,t,n){var r=n(1873),a=n(4932),o=n(6449),i=n(4394),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},4128:function(e,t,n){var r=n(1800),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},7301:function(e){e.exports=function(e){return function(t){return e(t)}}},5765:function(e,t,n){var r=n(8859),a=n(5325),o=n(9905),i=n(9219),s=n(4517),c=n(4247);e.exports=function(e,t,n){var l=-1,u=a,d=e.length,p=!0,f=[],h=f;if(n)p=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return c(m);p=!1,u=i,h=new r}else h=t?[]:f;e:for(;++l<d;){var g=e[l],y=t?t(g):g;if(g=n||0!==g?g:0,p&&y==y){for(var v=h.length;v--;)if(h[v]===y)continue e;t&&h.push(y),f.push(g)}else u(h,y,n)||(h!==f&&h.push(y),f.push(g))}return f}},9219:function(e){e.exports=function(e,t){return e.has(t)}},1769:function(e,t,n){var r=n(6449),a=n(8586),o=n(1802),i=n(3222);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},9653:function(e,t,n){var r=n(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},3290:function(e,t,n){e=n.nmd(e);var r=n(9325),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},6169:function(e,t,n){var r=n(9653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},3201:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},3736:function(e,t,n){var r=n(1873),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},1961:function(e,t,n){var r=n(9653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},3007:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1791:function(e,t,n){var r=n(6547),a=n(3360);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),i?a(n,l,u):r(n,l,u)}return n}},2271:function(e,t,n){var r=n(1791),a=n(4664);e.exports=function(e,t){return r(e,a(e),t)}},8948:function(e,t,n){var r=n(1791),a=n(6375);e.exports=function(e,t){return r(e,a(e),t)}},5481:function(e,t,n){var r=n(9325)["__core-js_shared__"];e.exports=r},5508:function(e,t,n){var r=n(6151),a=n(6800),o=n(7400);e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&a(t,n,i)&&(n=i=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),i=void 0===i?t<n?1:-1:o(i),r(t,n,i,e)}}},4517:function(e,t,n){var r=n(6545),a=n(3950),o=n(4247),i=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},3243:function(e,t,n){var r=n(6110),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},5911:function(e,t,n){var r=n(8859),a=n(4248),o=n(9219);e.exports=function(e,t,n,i,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var p=c.get(e),f=c.get(t);if(p&&f)return p==t&&f==e;var h=-1,m=!0,g=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++h<u;){var y=e[h],v=t[h];if(i)var b=l?i(v,y,h,t,e,c):i(y,v,h,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!a(t,(function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,i,c)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,i,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},1986:function(e,t,n){var r=n(1873),a=n(7828),o=n(5288),i=n(5911),s=n(317),c=n(4247),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var h=1&r;if(f||(f=c),e.size!=t.size&&!h)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=i(f(e),f(t),r,l,d,p);return p.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},689:function(e,t,n){var r=n(2),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,i,s){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var d=u;d--;){var p=l[d];if(!(c?p in t:a.call(t,p)))return!1}var f=s.get(e),h=s.get(t);if(f&&h)return f==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=c;++d<u;){var y=e[p=l[d]],v=t[p];if(o)var b=c?o(v,y,p,t,e,s):o(y,v,p,e,t,s);if(!(void 0===b?y===v||i(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var w=e.constructor,k=t.constructor;w==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof k&&k instanceof k||(m=!1)}return s.delete(e),s.delete(t),m}},4840:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},2:function(e,t,n){var r=n(2199),a=n(4664),o=n(5950);e.exports=function(e){return r(e,o,a)}},3349:function(e,t,n){var r=n(2199),a=n(6375),o=n(7241);e.exports=function(e){return r(e,o,a)}},2651:function(e,t,n){var r=n(4218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},776:function(e,t,n){var r=n(756),a=n(5950);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,r(i)]}return t}},6110:function(e,t,n){var r=n(5083),a=n(392);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},8879:function(e,t,n){var r=n(4335)(Object.getPrototypeOf,Object);e.exports=r},659:function(e,t,n){var r=n(1873),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},4664:function(e,t,n){var r=n(9770),a=n(3345),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=s},6375:function(e,t,n){var r=n(4528),a=n(8879),o=n(4664),i=n(3345),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=s},5861:function(e,t,n){var r=n(5580),a=n(8223),o=n(2804),i=n(6545),s=n(8303),c=n(2552),l=n(7473),u="[object Map]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",h="[object DataView]",m=l(r),g=l(a),y=l(o),v=l(i),b=l(s),w=c;(r&&w(new r(new ArrayBuffer(1)))!=h||a&&w(new a)!=u||o&&w(o.resolve())!=d||i&&w(new i)!=p||s&&w(new s)!=f)&&(w=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return h;case g:return u;case y:return d;case v:return p;case b:return f}return t}),e.exports=w},392:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},9326:function(e,t,n){var r=n(1769),a=n(2428),o=n(6449),i=n(361),s=n(294),c=n(7797);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var p=c(t[l]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&i(p,u)&&(o(e)||a(e))}},2032:function(e,t,n){var r=n(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3862:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6721:function(e,t,n){var r=n(1042),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2749:function(e,t,n){var r=n(1042),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},5749:function(e,t,n){var r=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6189:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},7199:function(e,t,n){var r=n(9653),a=n(6169),o=n(3201),i=n(3736),s=n(1961);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Symbol]":return i(e)}}},5529:function(e,t,n){var r=n(9344),a=n(8879),o=n(5527);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},361:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},6800:function(e,t,n){var r=n(5288),a=n(4894),o=n(361),i=n(3805);e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},8586:function(e,t,n){var r=n(6449),a=n(4394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||i.test(e)||!o.test(e)||null!=t&&e in Object(t)}},4218:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7296:function(e,t,n){var r,a=n(5481),o=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},5527:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},756:function(e,t,n){var r=n(3805);e.exports=function(e){return e==e&&!r(e)}},3702:function(e){e.exports=function(){this.__data__=[],this.size=0}},80:function(e,t,n){var r=n(6025),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}},4739:function(e,t,n){var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},8655:function(e,t,n){var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},1175:function(e,t,n){var r=n(6025);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},3040:function(e,t,n){var r=n(1549),a=n(79),o=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},7670:function(e,t,n){var r=n(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},289:function(e,t,n){var r=n(2651);e.exports=function(e){return r(this,e).get(e)}},4509:function(e,t,n){var r=n(2651);e.exports=function(e){return r(this,e).has(e)}},2949:function(e,t,n){var r=n(2651);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},317:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},7197:function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},2224:function(e,t,n){var r=n(104);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},1042:function(e,t,n){var r=n(6110)(Object,"create");e.exports=r},3650:function(e,t,n){var r=n(4335)(Object.keys,Object);e.exports=r},181:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},6009:function(e,t,n){e=n.nmd(e);var r=n(4840),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s},9350:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4335:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},9325:function(e,t,n){var r=n(4840),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},1380:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1459:function(e){e.exports=function(e){return this.__data__.has(e)}},4247:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},1420:function(e,t,n){var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},938:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},3605:function(e){e.exports=function(e){return this.__data__.get(e)}},9817:function(e){e.exports=function(e){return this.__data__.has(e)}},945:function(e,t,n){var r=n(79),a=n(8223),o=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},6959:function(e){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},1802:function(e,t,n){var r=n(2224),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)})),t}));e.exports=i},7797:function(e,t,n){var r=n(4394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7473:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},1800:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8055:function(e,t,n){var r=n(9999);e.exports=function(e){return r(e,5)}},5288:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},8156:function(e,t,n){var r=n(7422);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},631:function(e,t,n){var r=n(8077),a=n(9326);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3488:function(e){e.exports=function(e){return e}},2428:function(e,t,n){var r=n(7534),a=n(346),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},6449:function(e){var t=Array.isArray;e.exports=t},4894:function(e,t,n){var r=n(1882),a=n(294);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},3656:function(e,t,n){e=n.nmd(e);var r=n(9325),a=n(9935),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c},2193:function(e,t,n){var r=n(8984),a=n(5861),o=n(2428),i=n(6449),s=n(4894),c=n(3656),l=n(5527),u=n(7167),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||u(e)||o(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},2404:function(e,t,n){var r=n(270);e.exports=function(e,t){return r(e,t)}},1882:function(e,t,n){var r=n(2552),a=n(3805);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},294:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},7730:function(e,t,n){var r=n(9172),a=n(7301),o=n(6009),i=o&&o.isMap,s=i?a(i):r;e.exports=s},3805:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},8440:function(e,t,n){var r=n(6038),a=n(7301),o=n(6009),i=o&&o.isSet,s=i?a(i):r;e.exports=s},4394:function(e,t,n){var r=n(2552),a=n(346);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},7167:function(e,t,n){var r=n(7282),a=n(7301),o=n(6009),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},5950:function(e,t,n){var r=n(695),a=n(8984),o=n(4894);e.exports=function(e){return o(e)?r(e):a(e)}},7241:function(e,t,n){var r=n(695),a=n(2903),o=n(4894);e.exports=function(e){return o(e)?r(e,!0):a(e)}},104:function(e,t,n){var r=n(3661);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},3950:function(e){e.exports=function(){}},583:function(e,t,n){var r=n(7237),a=n(7255),o=n(8586),i=n(7797);e.exports=function(e){return o(e)?r(i(e)):a(e)}},3181:function(e,t,n){var r=n(5508)();e.exports=r},9107:function(e,t,n){var r=n(8470);e.exports=function(e,t){return r(e,t)}},1298:function(e,t,n){var r=n(5389),a=n(4116);e.exports=function(e,t,n){return a(e,t,r(n,2))}},8515:function(e,t,n){var r=n(8470);e.exports=function(e,t){return r(e,t,!0)}},3345:function(e){e.exports=function(){return[]}},9935:function(e){e.exports=function(){return!1}},7400:function(e,t,n){var r=n(9374),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},9374:function(e,t,n){var r=n(4128),a=n(3805),o=n(4394),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):i.test(e)?NaN:+e}},3222:function(e,t,n){var r=n(7556);e.exports=function(e){return null==e?"":r(e)}},3375:function(e,t,n){var r=n(5765);e.exports=function(e){return e&&e.length?r(e):[]}},9063:function(e,t,n){var r=n(5765);e.exports=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?r(e,void 0,t):[]}},2398:function(e,t,n){var r=n(1075);function a(e){if("number"!=typeof e)throw new TypeError("Expected Number, got "+typeof e+" "+e);return Number.isFinite(e)?e+r(e):e}a.indicator=r,e.exports=a},1075:function(e){e.exports=function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}},9306:function(e,t,n){"use strict";var r=n(4901),a=n(6823),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(a(e)+" is not a function")}},3506:function(e,t,n){"use strict";var r=n(3925),a=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o("Can't set "+a(e)+" as a prototype")}},679:function(e,t,n){"use strict";var r=n(1625),a=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new a("Incorrect invocation")}},8551:function(e,t,n){"use strict";var r=n(34),a=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(a(e)+" is not an object")}},9617:function(e,t,n){"use strict";var r=n(5397),a=n(5610),o=n(6198),i=function(e){return function(t,n,i){var s=r(t),c=o(s);if(0===c)return!e&&-1;var l,u=a(i,c);if(e&&n!=n){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},4527:function(e,t,n){"use strict";var r=n(3724),a=n(4376),o=TypeError,i=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(a(e)&&!i(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},2195:function(e,t,n){"use strict";var r=n(9504),a=r({}.toString),o=r("".slice);e.exports=function(e){return o(a(e),8,-1)}},6955:function(e,t,n){"use strict";var r=n(2140),a=n(4901),o=n(2195),i=n(8227)("toStringTag"),s=Object,c="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),i))?n:c?o(t):"Object"===(r=o(t))&&a(t.callee)?"Arguments":r}},7740:function(e,t,n){"use strict";var r=n(9297),a=n(5031),o=n(7347),i=n(4913);e.exports=function(e,t,n){for(var s=a(t),c=i.f,l=o.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||n&&r(n,d)||c(e,d,l(t,d))}}},6699:function(e,t,n){"use strict";var r=n(3724),a=n(4913),o=n(6980);e.exports=r?function(e,t,n){return a.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},6980:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6840:function(e,t,n){"use strict";var r=n(4901),a=n(4913),o=n(283),i=n(9433);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(r(n)&&o(n,l,s),s.global)c?e[t]=n:i(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:a.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},9433:function(e,t,n){"use strict";var r=n(4576),a=Object.defineProperty;e.exports=function(e,t){try{a(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},4606:function(e,t,n){"use strict";var r=n(6823),a=TypeError;e.exports=function(e,t){if(!delete e[t])throw new a("Cannot delete property "+r(t)+" of "+r(e))}},3724:function(e,t,n){"use strict";var r=n(9039);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(e,t,n){"use strict";var r=n(4576),a=n(34),o=r.document,i=a(o)&&a(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},6837:function(e){"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},5002:function(e){"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8727:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2839:function(e,t,n){"use strict";var r=n(4576).navigator,a=r&&r.userAgent;e.exports=a?String(a):""},9519:function(e,t,n){"use strict";var r,a,o=n(4576),i=n(2839),s=o.process,c=o.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(a=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!a&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(a=+r[1]),e.exports=a},6193:function(e,t,n){"use strict";var r=n(9504),a=Error,o=r("".replace),i=String(new a("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(i);e.exports=function(e,t){if(c&&"string"==typeof e&&!a.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},6518:function(e,t,n){"use strict";var r=n(4576),a=n(7347).f,o=n(6699),i=n(6840),s=n(9433),c=n(7740),l=n(2796);e.exports=function(e,t){var n,u,d,p,f,h=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[h]||s(h,{}):r[h]&&r[h].prototype)for(u in t){if(p=t[u],d=e.dontCallGetSet?(f=a(n,u))&&f.value:n[u],!l(m?u:h+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),i(n,u,p,e)}}},9039:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},616:function(e,t,n){"use strict";var r=n(9039);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,n){"use strict";var r=n(616),a=Function.prototype.call;e.exports=r?a.bind(a):function(){return a.apply(a,arguments)}},350:function(e,t,n){"use strict";var r=n(3724),a=n(9297),o=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,s=a(o,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&i(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},6706:function(e,t,n){"use strict";var r=n(9504),a=n(9306);e.exports=function(e,t,n){try{return r(a(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},9504:function(e,t,n){"use strict";var r=n(616),a=Function.prototype,o=a.call,i=r&&a.bind.bind(o,o);e.exports=r?i:function(e){return function(){return o.apply(e,arguments)}}},7751:function(e,t,n){"use strict";var r=n(4576),a=n(4901);e.exports=function(e,t){return arguments.length<2?(n=r[e],a(n)?n:void 0):r[e]&&r[e][t];var n}},5966:function(e,t,n){"use strict";var r=n(9306),a=n(4117);e.exports=function(e,t){var n=e[t];return a(n)?void 0:r(n)}},4576:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,n){"use strict";var r=n(9504),a=n(8981),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(a(e),t)}},421:function(e){"use strict";e.exports={}},5917:function(e,t,n){"use strict";var r=n(3724),a=n(9039),o=n(4055);e.exports=!r&&!a((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,n){"use strict";var r=n(9504),a=n(9039),o=n(2195),i=Object,s=r("".split);e.exports=a((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):i(e)}:i},3167:function(e,t,n){"use strict";var r=n(4901),a=n(34),o=n(2967);e.exports=function(e,t,n){var i,s;return o&&r(i=t.constructor)&&i!==n&&a(s=i.prototype)&&s!==n.prototype&&o(e,s),e}},3706:function(e,t,n){"use strict";var r=n(9504),a=n(4901),o=n(7629),i=r(Function.toString);a(o.inspectSource)||(o.inspectSource=function(e){return i(e)}),e.exports=o.inspectSource},1181:function(e,t,n){"use strict";var r,a,o,i=n(8622),s=n(4576),c=n(34),l=n(6699),u=n(9297),d=n(7629),p=n(6119),f=n(421),h="Object already initialized",m=s.TypeError,g=s.WeakMap;if(i||d.state){var y=d.state||(d.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,r=function(e,t){if(y.has(e))throw new m(h);return t.facade=e,y.set(e,t),t},a=function(e){return y.get(e)||{}},o=function(e){return y.has(e)}}else{var v=p("state");f[v]=!0,r=function(e,t){if(u(e,v))throw new m(h);return t.facade=e,l(e,v,t),t},a=function(e){return u(e,v)?e[v]:{}},o=function(e){return u(e,v)}}e.exports={set:r,get:a,has:o,enforce:function(e){return o(e)?a(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=a(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}}}},4376:function(e,t,n){"use strict";var r=n(2195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},4901:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:function(e,t,n){"use strict";var r=n(9039),a=n(4901),o=/#|\.prototype\./,i=function(e,t){var n=c[s(e)];return n===u||n!==l&&(a(t)?r(t):!!t)},s=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},4117:function(e){"use strict";e.exports=function(e){return null==e}},34:function(e,t,n){"use strict";var r=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},3925:function(e,t,n){"use strict";var r=n(34);e.exports=function(e){return r(e)||null===e}},6395:function(e){"use strict";e.exports=!1},757:function(e,t,n){"use strict";var r=n(7751),a=n(4901),o=n(1625),i=n(7040),s=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return a(t)&&o(t.prototype,s(e))}},6198:function(e,t,n){"use strict";var r=n(8014);e.exports=function(e){return r(e.length)}},283:function(e,t,n){"use strict";var r=n(9504),a=n(9039),o=n(4901),i=n(9297),s=n(3724),c=n(350).CONFIGURABLE,l=n(3706),u=n(1181),d=u.enforce,p=u.get,f=String,h=Object.defineProperty,m=r("".slice),g=r("".replace),y=r([].join),v=s&&!a((function(){return 8!==h((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===m(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||c&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),v&&n&&i(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return i(r,"source")||(r.source=y(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return o(this)&&p(this).source||l(this)}),"toString")},741:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},2603:function(e,t,n){"use strict";var r=n(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},4913:function(e,t,n){"use strict";var r=n(3724),a=n(5917),o=n(8686),i=n(8551),s=n(6969),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=r?o?function(e,t,n){if(i(e),t=s(t),i(n),"function"==typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=u(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(i(e),t=s(t),i(n),a)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7347:function(e,t,n){"use strict";var r=n(3724),a=n(9565),o=n(8773),i=n(6980),s=n(5397),c=n(6969),l=n(9297),u=n(5917),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),u)try{return d(e,t)}catch(e){}if(l(e,t))return i(!a(o.f,e,t),e[t])}},8480:function(e,t,n){"use strict";var r=n(1828),a=n(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},3717:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},1625:function(e,t,n){"use strict";var r=n(9504);e.exports=r({}.isPrototypeOf)},1828:function(e,t,n){"use strict";var r=n(9504),a=n(9297),o=n(5397),i=n(9617).indexOf,s=n(421),c=r([].push);e.exports=function(e,t){var n,r=o(e),l=0,u=[];for(n in r)!a(s,n)&&a(r,n)&&c(u,n);for(;t.length>l;)a(r,n=t[l++])&&(~i(u,n)||c(u,n));return u}},8773:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!n.call({1:2},1);t.f=a?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},2967:function(e,t,n){"use strict";var r=n(6706),a=n(34),o=n(7750),i=n(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),i(r),a(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},4270:function(e,t,n){"use strict";var r=n(9565),a=n(4901),o=n(34),i=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&a(n=e.toString)&&!o(s=r(n,e)))return s;if(a(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&a(n=e.toString)&&!o(s=r(n,e)))return s;throw new i("Can't convert object to primitive value")}},5031:function(e,t,n){"use strict";var r=n(7751),a=n(9504),o=n(8480),i=n(3717),s=n(8551),c=a([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=i.f;return n?c(t,n(e)):t}},7750:function(e,t,n){"use strict";var r=n(4117),a=TypeError;e.exports=function(e){if(r(e))throw new a("Can't call method on "+e);return e}},6119:function(e,t,n){"use strict";var r=n(5745),a=n(3392),o=r("keys");e.exports=function(e){return o[e]||(o[e]=a(e))}},7629:function(e,t,n){"use strict";var r=n(6395),a=n(4576),o=n(9433),i="__core-js_shared__",s=e.exports=a[i]||o(i,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,n){"use strict";var r=n(7629);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},4495:function(e,t,n){"use strict";var r=n(9519),a=n(9039),o=n(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!a((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},5610:function(e,t,n){"use strict";var r=n(1291),a=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?a(n+t,0):o(n,t)}},5397:function(e,t,n){"use strict";var r=n(7055),a=n(7750);e.exports=function(e){return r(a(e))}},1291:function(e,t,n){"use strict";var r=n(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},8014:function(e,t,n){"use strict";var r=n(1291),a=Math.min;e.exports=function(e){var t=r(e);return t>0?a(t,9007199254740991):0}},8981:function(e,t,n){"use strict";var r=n(7750),a=Object;e.exports=function(e){return a(r(e))}},2777:function(e,t,n){"use strict";var r=n(9565),a=n(34),o=n(757),i=n(5966),s=n(4270),c=n(8227),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var n,c=i(e,u);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!a(n)||o(n))return n;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},6969:function(e,t,n){"use strict";var r=n(2777),a=n(757);e.exports=function(e){var t=r(e,"string");return a(t)?t:t+""}},2140:function(e,t,n){"use strict";var r={};r[n(8227)("toStringTag")]="z",e.exports="[object z]"===String(r)},655:function(e,t,n){"use strict";var r=n(6955),a=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return a(e)}},6823:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3392:function(e,t,n){"use strict";var r=n(9504),a=0,o=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++a+o,36)}},7040:function(e,t,n){"use strict";var r=n(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,n){"use strict";var r=n(3724),a=n(9039);e.exports=r&&a((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8622:function(e,t,n){"use strict";var r=n(4576),a=n(4901),o=r.WeakMap;e.exports=a(o)&&/native code/.test(String(o))},8227:function(e,t,n){"use strict";var r=n(4576),a=n(5745),o=n(9297),i=n(3392),s=n(4495),c=n(7040),l=r.Symbol,u=a("wks"),d=c?l.for||l:l&&l.withoutSetter||i;e.exports=function(e){return o(u,e)||(u[e]=s&&o(l,e)?l[e]:d("Symbol."+e)),u[e]}},4114:function(e,t,n){"use strict";var r=n(6518),a=n(8981),o=n(6198),i=n(4527),s=n(6837);r({target:"Array",proto:!0,arity:1,forced:n(9039)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=a(this),n=o(t),r=arguments.length;s(n+r);for(var c=0;c<r;c++)t[n]=arguments[c],n++;return i(t,n),n}})},3609:function(e,t,n){"use strict";var r=n(6518),a=n(8981),o=n(6198),i=n(4527),s=n(4606),c=n(6837);r({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=a(this),n=o(t),r=arguments.length;if(r){c(n+r);for(var l=n;l--;){var u=l+r;l in t?t[u]=t[l]:s(t,u)}for(var d=0;d<r;d++)t[d]=arguments[d]}return i(t,n+r)}})},4979:function(e,t,n){"use strict";var r=n(6518),a=n(4576),o=n(7751),i=n(6980),s=n(4913).f,c=n(9297),l=n(679),u=n(3167),d=n(2603),p=n(5002),f=n(6193),h=n(3724),m=n(6395),g="DOMException",y=o("Error"),v=o(g),b=function(){l(this,w);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new v(t,n),a=new y(t);return a.name=g,s(r,"stack",i(1,f(a.stack,1))),u(r,this,b),r},w=b.prototype=v.prototype,k="stack"in new y(g),x="stack"in new v(1,2),E=v&&h&&Object.getOwnPropertyDescriptor(a,g),D=!(!E||E.writable&&E.configurable),C=k&&!D&&!x;r({global:!0,constructor:!0,forced:m||C},{DOMException:C?b:v});var L=o(g),j=L.prototype;if(j.constructor!==L)for(var M in m||s(j,"constructor",i(1,L)),p)if(c(p,M)){var S=p[M],O=S.s;c(L,O)||s(L,O,i(6,S.c))}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),function(){"use strict";n(1163),n(4114),Math.pow(10,8);const e=6048e5,t=864e5,r=6e4,a=36e5,o=Symbol.for("constructDateFrom");function i(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&o in e?e[o](t):e instanceof Date?new e.constructor(t):new Date(t)}function s(e,t){return i(t||e,e)}function c(e,t){const n=s(e,t?.in);return n.setHours(0,0,0,0),n}function l(e,t){const n=s(e,t?.in);return n.setHours(23,59,59,999),n}function u(e,t,n){const r=s(e,n?.in);return isNaN(t)?i(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function d(e,t,n){const{years:r=0,months:a=0,weeks:o=0,days:c=0,hours:l=0,minutes:d=0,seconds:p=0}=t,f=s(e,n?.in),h=a||r?function(e,t,n){const r=s(e,n?.in);if(isNaN(t))return i(n?.in||e,NaN);if(!t)return r;const a=r.getDate(),o=i(n?.in||e,r.getTime());return o.setMonth(r.getMonth()+t+1,0),a>=o.getDate()?o:(r.setFullYear(o.getFullYear(),o.getMonth(),a),r)}(f,a+12*r):f,m=c||o?u(h,c+7*o):h,g=1e3*(p+60*(d+60*l));return i(n?.in||e,+m+g)}function p(e,t){return+s(e)<+s(t)}var f=n.p+"b08a3889d2d57865f447.svg",h=n.p+"d3bf607bd40cfc5ff8b8.svg",m=n.p+"e46260f47d4a148fddef.svg",g=n.p+"cb3c1341729e15767930.svg",y=n.p+"24181ff26614724660c3.svg",v=n.p+"49f75adc8d73036c195b.svg",b=n.p+"875650458bca786df6f0.svg",w=n.p+"8b03ca0ef41885c69c69.svg",k=n.p+"3f22fe34229f8d0930ae.svg",x=n.p+"a4b5b1d78905ebb53209.svg",E=n.p+"5a00a9dee1c011eb8588.svg",D=n.p+"7cdc1793f50cc0d817ca.svg",C=n.p+"dd39b9ce180a989c394a.svg",L={name:"Task It Up",version:"1.0.0",author:"Greg Kikola",authorWebsite:"https://www.gregkikola.com/",copyrightYears:"2021–2024",license:"MIT",homepage:"https://github.com/gkikola/task-it-up#readme",storagePrefix:"task-it-up"};class j{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name=e,this.description=t.description??null}static fromJson(e){return new j(e.name,{description:e.description})}}var M=j;function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.type?.toLowerCase()||"text";let n=null;if(e.label||e.container){const t=e.container?.inline?"span":"div";n=document.createElement(t),e.container?.id&&(n.id=e.container.id),e.container?.classList&&n.classList.add(...e.container.classList)}let r=null;e.label&&(r=document.createElement("label"),r.textContent=e.label.value||"",e.label.classList&&r.classList.add(...e.label.classList),e.id&&(r.htmlFor=e.id));let a=null;switch(t){case"select":a=document.createElement("select"),e.menuItems&&e.menuItems.forEach((e=>{const t=document.createElement("option");e.value&&(t.value=e.value),e.selected&&(t.defaultSelected=!0,t.selected=!0),t.textContent=e.label,a.appendChild(t)}));break;case"textarea":a=document.createElement("textarea"),a.textContent=e.value||"",e.size&&(e.size.rows&&(a.rows=e.size.rows),e.size.cols&&(a.cols=e.size.cols));break;default:a=document.createElement("input"),a.type=t,e.value&&(a.defaultValue=e.value,a.value=e.value),e.pattern&&(a.pattern=e.pattern),null!=e.min&&(a.min=e.min),null!=e.max&&(a.max=e.max),null!=e.step&&(a.step=e.step)}e.id&&(a.id=e.id),e.name&&(a.name=e.name),e.title&&(a.title=e.title),e.classList&&a.classList.add(...e.classList),e.required&&(a.required=!0),"select"!==t&&null!=e.minLength&&(a.minLength=e.minLength),"select"!==t&&null!=e.maxLength&&(a.maxLength=e.maxLength),"file"===t&&e.accept&&(Array.isArray(e.accept)?a.accept=e.accept.join(","):a.accept=e.accept);const o="checkbox"===t||"radio"===t;if(o&&e.checked&&(a.defaultChecked=!0,a.checked=!0),e.placeholder&&!o&&"select"!==t&&(a.placeholder=e.placeholder),r){let t=e.label.placement||"auto";return"auto"===t&&(t=o?"after":"before"),"after"===t?(n.appendChild(a),n.appendChild(r)):(n.appendChild(r),n.appendChild(a)),n}return n?(n.appendChild(a),n):a}function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.container?.inline?"span":"div",n=document.createElement(t);if(e.container?.id&&(n.id=e.container.id),e.container?.classList&&n.classList.add(...e.container.classList),e.label){const t=document.createElement("label");e.id&&(t.htmlFor=e.id),e.label.classList&&t.classList.add(...e.label.classList),t.textContent=e.label.value||"",n.appendChild(t)}n.appendChild(S({type:"text",id:e.id??null,name:e.name??null,title:e.title??null,value:e.value??null,placeholder:e.placeholder??null,classList:e.classList||null,required:e.required??!1,pattern:e.pattern??null,minLength:e.minLength??null,maxLength:e.maxLength??null}));const r=document.createElement("button");if(e.button?.id&&(r.id=e.button.id),e.button?.name&&(r.name=e.button.name),e.button?.title&&(r.title=e.button.title),e.button?.classList&&r.classList.add(...e.button.classList),r.textContent=e.button?.label||"Choose...",e.button?.callback){const t=n.querySelector("input");r.addEventListener("click",(()=>e.button.callback(t)))}return n.appendChild(r),n}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.createElement("button");t.id&&(n.id=t.id),t.title&&(n.title=t.title),t.classList&&n.classList.add(...t.classList);const r=new Image;return r.src=e,r.alt=t.altText??"",null!=t.width&&(r.width=t.width),null!=t.height&&(r.height=t.height),t.imgId&&(r.id=t.imgId),t.imgClassList&&r.classList.add(...t.imgClassList),n.appendChild(r),t.callback&&n.addEventListener("click",t.callback),n}const P=new WeakMap;var N=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={project:e.project||null,mode:e.project?"edit":"add",callbacks:{confirm:e.confirm||null,cancel:e.cancel||null},controls:{name:null,description:null}};P.set(this,t)}get title(){return"edit"===P.get(this).mode?"Edit Project":"Add Project"}get confirmLabel(){return"edit"===P.get(this).mode?"Update":"Add"}get initFocus(){return P.get(this).controls.name}addContent(e){const t={classList:["form-input-container"]},n=e=>({value:e,classList:["form-input-label"]});e.appendChild(S({type:"text",id:"project-name",name:"project-name",classList:["form-input"],required:!0,label:n("Name"),container:t})),e.appendChild(S({type:"textarea",id:"project-description",name:"project-description",classList:["form-textarea"],label:n("Description"),container:t,size:{rows:4,cols:20}})),P.get(this).controls={name:e.querySelector("#project-name"),description:e.querySelector("#project-description")},function(e){const{project:t,controls:n}=P.get(e);t&&(n.name.value=t.name||"",n.description.value=t.description||"")}(this)}confirm(){const e=P.get(this),{controls:t}=e,n=new M(t.name.value,{description:t.description.value||null});e.callbacks.confirm&&e.callbacks.confirm(n)}cancel(){const e=P.get(this);e.callbacks.cancel&&e.callbacks.cancel()}validate(){return!!P.get(this).controls.name.reportValidity()}};function I(e,t){const n=s(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}let F={};function _(){return F}function A(e,t){const n=_(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=s(e,t?.in),o=a.getDay(),i=(o<r?7:0)+o-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function $(e,...t){const n=i.bind(null,e||t.find((e=>"object"==typeof e)));return t.map(n)}function W(e,t,n){const[r,a]=$(n?.in,e,t);return+c(r)==+c(a)}function R(e,t){return W(i(t?.in||e,e),function(e){return i(e,Date.now())}(t?.in||e))}function B(e,t,n){const[r,a]=$(n?.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}var q=n.p+"fa2969b9fad3b0910d82.svg",Y=n.p+"32724bd6f478780198fd.svg",U=n.p+"ed5f89846bd5d39058fd.svg";const z=["January","February","March","April","May","June","July","August","September","October","November","December"],H=new WeakMap;function G(e){const t=H.get(e);t.dayGrid.innerHTML="";const n=new Date(t.displayedYear,t.displayedMonth,1);t.displayedYear<100&&n.setFullYear(t.displayedYear);const r=e.date,a=A(I(n)),o=d(a,{weeks:5,days:6,hours:11});["S","M","T","W","T","F","S"].forEach((e=>{const n=document.createElement("span");n.classList.add("date-picker-day-header"),n.textContent=e,t.dayGrid.appendChild(n)}));let i=a;for(;p(i,o);){const e=document.createElement("button");e.classList.add("date-picker-day"),W(r,i)?e.classList.add("selected"):R(i)&&e.classList.add("today"),B(n,i)||e.classList.add("different-month"),e.textContent=i.getDate(),e.dataset.year=i.getFullYear(),e.dataset.month=i.getMonth(),e.dataset.day=i.getDate(),t.dayGrid.appendChild(e),i=d(i,{days:1})}}function V(e){const t=H.get(e);t.monthInput.value=t.displayedMonth.toString(),t.yearInput.value=t.displayedYear.toString()}var Q=class{constructor(e,t){const n=t||new Date,r={year:n.getFullYear(),month:n.getMonth(),day:n.getDate(),displayedMonth:n.getMonth(),displayedYear:n.getFullYear(),monthInput:null,yearInput:null,dayGrid:null};H.set(this,r),function(e,t){const n=H.get(e),r=document.createElement("div");r.classList.add("date-picker-heading");const a=z.map(((e,t)=>({value:t.toString(),label:e})));n.monthInput=S({type:"select",id:"date-picker-month-select",name:"date-picker-month-select",classList:["form-select-inline"],menuItems:a}),n.yearInput=S({type:"number",id:"date-picker-year-input",name:"date-picker-year-input",classList:["form-input-inline","form-input-count"]});const o=document.createElement("div");o.appendChild(n.monthInput);const i=document.createElement("span");i.classList.add("form-input-label-inline"),i.textContent=" ",o.appendChild(i),o.appendChild(n.yearInput),r.appendChild(o);const s=document.createElement("div"),c=T(q,{altText:"Go to previous month",width:24,height:24}),l=T(U,{altText:"Go to today",width:24,height:24}),u=T(Y,{altText:"Go to next month",width:24,height:24});s.appendChild(c),s.appendChild(l),s.appendChild(u),r.appendChild(s),t.appendChild(r);const d=document.createElement("div");d.classList.add("date-picker-grid"),t.appendChild(d),n.dayGrid=d,V(e),G(e),c.addEventListener("click",(()=>e.goToPreviousMonth())),l.addEventListener("click",(()=>e.selectToday())),u.addEventListener("click",(()=>e.goToNextMonth())),n.monthInput.addEventListener("change",(t=>{n.displayedMonth=Number(t.target.value),G(e)}));const p=t=>{if("change"===t.type||4===t.target.value.length){const r=Number(t.target.value);t.target.value.length>0&&Number.isInteger(r)?n.displayedYear!==r&&(n.displayedYear=r,G(e)):"change"===t.type&&(t.target.value=n.displayedYear.toString())}};n.yearInput.addEventListener("input",p),n.yearInput.addEventListener("change",p),n.dayGrid.addEventListener("click",(t=>{const r=t.target;r.classList.contains("date-picker-day")&&(n.year=Number(r.dataset.year),n.month=Number(r.dataset.month),n.day=Number(r.dataset.day),n.displayedMonth===n.month&&n.displayedYear===n.year||(n.displayedMonth=n.month,n.displayedYear=n.year,V(e)),G(e))}))}(this,e)}get date(){const e=H.get(this),t=new Date(e.year,e.month,e.day);return e.year<100&&t.setFullYear(e.year),t}get year(){return H.get(this).year}get month(){return H.get(this).month}get day(){return H.get(this).day}selectDate(e){const t=H.get(this);t.year=e.getFullYear(),t.month=e.getMonth(),t.day=e.getDate(),t.displayedYear=t.year,t.displayedMonth=t.month,V(this),G(this)}selectToday(){this.selectDate(new Date)}goToThisMonth(){const e=H.get(this),t=new Date;e.displayedYear=t.getFullYear(),e.displayedMonth=t.getMonth(),V(this),G(this)}goToPreviousMonth(){const e=H.get(this);e.displayedMonth>0?e.displayedMonth-=1:(e.displayedYear-=1,e.displayedMonth=11),V(this),G(this)}goToNextMonth(){const e=H.get(this);e.displayedMonth<11?e.displayedMonth+=1:(e.displayedYear+=1,e.displayedMonth=0),V(this),G(this)}};const J=new WeakMap;var X=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={callbacks:{confirm:e.confirm||null,cancel:e.cancel||null},startDate:e.startDate||null,title:e.title??"Select Date",picker:null};J.set(this,t)}get title(){return J.get(this).title}addContent(e){const t=J.get(this);t.picker=new Q(e,t.startDate)}confirm(){const{callbacks:e,picker:t}=J.get(this);e.confirm&&e.confirm(t.date)}cancel(){const{callbacks:e}=J.get(this);e.cancel&&e.cancel()}validate(){return!0}},Z=n(3181),K=n.n(Z),ee=n(2398),te=n.n(ee),ne=n(3375),re=n.n(ne),ae=n(2404),oe=n.n(ae);function ie(e,t){const n=s(e,t?.in),r=n.getFullYear(),a=n.getMonth(),o=i(n,0);return o.setFullYear(r,a+1,0),o.setHours(0,0,0,0),o.getDate()}function se(e,t){return s(e,t?.in).getDay()}function ce(e,t,n){let r=t-se(e,n);return r<=0&&(r+=7),u(e,r,n)}function le(e,t){const n=s(e,t?.in).getDay();return 0===n||6===n}function ue(e,t,n){let r=se(e,n)-t;return r<=0&&(r+=7),function(e,t,n){return u(e,-t,n)}(e,r,n)}const de={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function pe(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const fe={date:pe({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:pe({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:pe({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},he={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function me(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function ge(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e){for(let t=0;t<e.length;t++)if(e[t].test(i))return t}(s):function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].test(i))return t}(s);let l;return l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l,{value:l,rest:t.slice(i.length)}}}var ye;const ve={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=de[e];return r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:fe,formatRelative:(e,t,n,r)=>he[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:me({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:me({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:me({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:me({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:me({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(ye={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(ye.matchPattern);if(!n)return null;const r=n[0],a=e.match(ye.parsePattern);if(!a)return null;let o=ye.valueCallback?ye.valueCallback(a[0]):a[0];return o=t.valueCallback?t.valueCallback(o):o,{value:o,rest:e.slice(r.length)}}),era:ge({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ge({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:ge({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ge({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ge({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function be(e){const t=s(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function we(e,n){const r=s(e,n?.in);return function(e,n,r){const[a,o]=$(r?.in,e,n),i=c(a),s=c(o),l=+i-be(i),u=+s-be(s);return Math.round((l-u)/t)}(r,function(e,t){const n=s(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(r))+1}function ke(e,t){return A(e,{...t,weekStartsOn:1})}function xe(e,t){const n=s(e,t?.in),r=n.getFullYear(),a=i(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const o=ke(a),c=i(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const l=ke(c);return n.getTime()>=o.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Ee(t,n){const r=s(t,n?.in),a=+ke(r)-+function(e,t){const n=xe(e,t),r=i(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ke(r)}(r);return Math.round(a/e)+1}function De(e,t){const n=s(e,t?.in),r=n.getFullYear(),a=_(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=i(t?.in||e,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const l=A(c,t),u=i(t?.in||e,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const d=A(u,t);return+n>=+l?r+1:+n>=+d?r:r-1}function Ce(t,n){const r=s(t,n?.in),a=+A(r,n)-+function(e,t){const n=_(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=De(e,t),o=i(t?.in||e,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),A(o,t)}(r,n);return Math.round(a/e)+1}function Le(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const je={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Le("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Le(n+1,2)},d(e,t){return Le(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h(e,t){return Le(e.getHours()%12||12,t.length)},H(e,t){return Le(e.getHours(),t.length)},m(e,t){return Le(e.getMinutes(),t.length)},s(e,t){return Le(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds();return Le(Math.trunc(r*Math.pow(10,n-3)),t.length)}},Me={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return je.y(e,t)},Y:function(e,t,n,r){const a=De(e,r),o=a>0?a:1-a;return"YY"===t?Le(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Le(o,t.length)},R:function(e,t){return Le(xe(e),t.length)},u:function(e,t){return Le(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Le(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Le(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return je.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Le(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Ce(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Le(a,t.length)},I:function(e,t,n){const r=Ee(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Le(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):je.d(e,t)},D:function(e,t,n){const r=we(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Le(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Le(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Le(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Le(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return je.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):je.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Le(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Le(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):je.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):je.s(e,t)},S:function(e,t){return je.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Oe(r);case"XXXX":case"XX":return Te(r);default:return Te(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Oe(r);case"xxxx":case"xx":return Te(r);default:return Te(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Se(r,":");default:return"GMT"+Te(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Se(r,":");default:return"GMT"+Te(r,":")}},t:function(e,t,n){return Le(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Le(+e,t.length)}};function Se(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),o=r%60;return 0===o?n+String(a):n+String(a)+t+Le(o,2)}function Oe(e,t){return e%60==0?(e>0?"-":"+")+Le(Math.abs(e)/60,2):Te(e,t)}function Te(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+Le(Math.trunc(r/60),2)+t+Le(r%60,2)}const Pe=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Ne=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Ie={p:Ne,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Pe(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",Pe(r,t)).replace("{{time}}",Ne(a,t))}},Fe=/^D+$/,_e=/^Y+$/,Ae=["D","DD","YY","YYYY"];function $e(e){return Fe.test(e)}function We(e){return _e.test(e)}function Re(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),Ae.includes(e))throw new RangeError(r)}function Be(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+s(e)));var t}const qe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ue=/^'([^]*?)'?$/,ze=/''/g,He=/[a-zA-Z]/;function Ge(e){const t=e.match(Ue);return t?t[1].replace(ze,"'"):e}class Ve{subPriority=0;validate(e,t){return!0}}class Qe extends Ve{constructor(e,t,n,r,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Je extends Ve{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>i(t,e))}set(e,t){return t.timestampIsSet?e:i(e,function(e,t){const n=function(e){return"function"==typeof e&&e.prototype?.constructor===e}(t)?new t(0):i(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}(e,this.context))}}class Xe{run(e,t,n,r){const a=this.parse(e,t,n,r);return a?{setter:new Qe(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}const Ze=/^(1[0-2]|0?\d)/,Ke=/^(3[0-1]|[0-2]?\d)/,et=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,tt=/^(5[0-3]|[0-4]?\d)/,nt=/^(2[0-3]|[0-1]?\d)/,rt=/^(2[0-4]|[0-1]?\d)/,at=/^(1[0-1]|0?\d)/,ot=/^(1[0-2]|0?\d)/,it=/^[0-5]?\d/,st=/^[0-5]?\d/,ct=/^\d/,lt=/^\d{1,2}/,ut=/^\d{1,3}/,dt=/^\d{1,4}/,pt=/^-?\d+/,ft=/^-?\d/,ht=/^-?\d{1,2}/,mt=/^-?\d{1,3}/,gt=/^-?\d{1,4}/,yt=/^([+-])(\d{2})(\d{2})?|Z/,vt=/^([+-])(\d{2})(\d{2})|Z/,bt=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,wt=/^([+-])(\d{2}):(\d{2})|Z/,kt=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function xt(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Et(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Dt(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const o="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,c=n[5]?parseInt(n[5],10):0;return{value:o*(i*a+s*r+1e3*c),rest:t.slice(n[0].length)}}function Ct(e){return Et(pt,e)}function Lt(e,t){switch(e){case 1:return Et(ct,t);case 2:return Et(lt,t);case 3:return Et(ut,t);case 4:return Et(dt,t);default:return Et(new RegExp("^\\d{1,"+e+"}"),t)}}function jt(e,t){switch(e){case 1:return Et(ft,t);case 2:return Et(ht,t);case 3:return Et(mt,t);case 4:return Et(gt,t);default:return Et(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Mt(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function St(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const t=r+50;a=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?a:1-a}function Ot(e){return e%400==0||e%4==0&&e%100!=0}const Tt=[31,28,31,30,31,30,31,31,30,31,30,31],Pt=[31,29,31,30,31,30,31,31,30,31,30,31];function Nt(e,t,n){const r=_(),a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=s(e,n?.in),i=o.getDay(),c=7-a;return u(o,t<0||t>6?t-(i+c)%7:((t%7+7)%7+c)%7-(i+c)%7,n)}function It(e,t,n){const r=s(e,n?.in);return u(r,t-function(e,t){const n=s(e,t?.in).getDay();return 0===n?7:n}(r,n),n)}const Ft={G:new class extends Xe{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends Xe{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return xt(Lt(4,e),r);case"yo":return xt(n.ordinalNumber(e,{unit:"year"}),r);default:return xt(Lt(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=St(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Y:new class extends Xe{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return xt(Lt(4,e),r);case"Yo":return xt(n.ordinalNumber(e,{unit:"year"}),r);default:return xt(Lt(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const a=De(e,r);if(n.isTwoDigitYear){const t=St(n.year,a);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),A(e,r)}const o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),A(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends Xe{priority=130;parse(e,t){return jt("R"===t?4:t.length,e)}set(e,t,n){const r=i(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ke(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends Xe{priority=130;parse(e,t){return jt("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends Xe{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return Lt(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends Xe{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return Lt(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends Xe{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return xt(Et(Ze,e),r);case"MM":return xt(Lt(2,e),r);case"Mo":return xt(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends Xe{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return xt(Et(Ze,e),r);case"LL":return xt(Lt(2,e),r);case"Lo":return xt(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends Xe{priority=100;parse(e,t,n){switch(t){case"w":return Et(tt,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Lt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return A(function(e,t,n){const r=s(e,n?.in),a=Ce(r,n)-t;return r.setDate(r.getDate()-7*a),s(r,n?.in)}(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends Xe{priority=100;parse(e,t,n){switch(t){case"I":return Et(tt,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Lt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return ke(function(e,t,n){const r=s(e,n?.in),a=Ee(r,n)-t;return r.setDate(r.getDate()-7*a),r}(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends Xe{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return Et(Ke,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Lt(t.length,e)}}validate(e,t){const n=Ot(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=Pt[r]:t>=1&&t<=Tt[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends Xe{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return Et(et,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Lt(t.length,e)}}validate(e,t){return Ot(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends Xe{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Nt(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends Xe{priority=90;parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return xt(Lt(t.length,e),a);case"eo":return xt(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Nt(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends Xe{priority=90;parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return xt(Lt(t.length,e),a);case"co":return xt(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Nt(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends Xe{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return Lt(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return xt(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return xt(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return xt(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return xt(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=It(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends Xe{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Mt(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends Xe{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Mt(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends Xe{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Mt(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends Xe{priority=70;parse(e,t,n){switch(t){case"h":return Et(ot,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Lt(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends Xe{priority=70;parse(e,t,n){switch(t){case"H":return Et(nt,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Lt(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends Xe{priority=70;parse(e,t,n){switch(t){case"K":return Et(at,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Lt(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends Xe{priority=70;parse(e,t,n){switch(t){case"k":return Et(rt,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Lt(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends Xe{priority=60;parse(e,t,n){switch(t){case"m":return Et(it,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Lt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends Xe{priority=50;parse(e,t,n){switch(t){case"s":return Et(st,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Lt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends Xe{priority=30;parse(e,t){return xt(Lt(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends Xe{priority=10;parse(e,t){switch(t){case"X":return Dt(yt,e);case"XX":return Dt(vt,e);case"XXXX":return Dt(bt,e);case"XXXXX":return Dt(kt,e);default:return Dt(wt,e)}}set(e,t,n){return t.timestampIsSet?e:i(e,e.getTime()-be(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends Xe{priority=10;parse(e,t){switch(t){case"x":return Dt(yt,e);case"xx":return Dt(vt,e);case"xxxx":return Dt(bt,e);case"xxxxx":return Dt(kt,e);default:return Dt(wt,e)}}set(e,t,n){return t.timestampIsSet?e:i(e,e.getTime()-be(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends Xe{priority=40;parse(e){return Ct(e)}set(e,t,n){return[i(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends Xe{priority=20;parse(e){return Ct(e)}set(e,t,n){return[i(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},_t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,At=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$t=/^'([^]*?)'?$/,Wt=/''/g,Rt=/\S/,Bt=/[a-zA-Z]/;function qt(e,t,n,r){const a=()=>i(r?.in||n,NaN),o=Object.assign({},_()),c=r?.locale??o.locale??ve,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!t)return e?a():s(n,r?.in);const d={firstWeekContainsDate:l,weekStartsOn:u,locale:c},p=[new Je(r?.in,n)],f=t.match(At).map((e=>{const t=e[0];return t in Ie?(0,Ie[t])(e,c.formatLong):e})).join("").match(_t),h=[];for(let n of f){!r?.useAdditionalWeekYearTokens&&We(n)&&Re(n,t,e),!r?.useAdditionalDayOfYearTokens&&$e(n)&&Re(n,t,e);const o=n[0],i=Ft[o];if(i){const{incompatibleTokens:t}=i;if(Array.isArray(t)){const e=h.find((e=>t.includes(e.token)||e.token===o));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${n}\` at the same time`)}else if("*"===i.incompatibleTokens&&h.length>0)throw new RangeError(`The format string mustn't contain \`${n}\` and any other token at the same time`);h.push({token:o,fullToken:n});const r=i.run(e,n,c.match,d);if(!r)return a();p.push(r.setter),e=r.rest}else{if(o.match(Bt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");if("''"===n?n="'":"'"===o&&(n=n.match($t)[1].replace(Wt,"'")),0!==e.indexOf(n))return a();e=e.slice(n.length)}}if(e.length>0&&Rt.test(e))return a();const m=p.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>p.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let g=s(n,r?.in);if(isNaN(+g))return a();const y={};for(const e of m){if(!e.validate(g,d))return a();const t=e.set(g,y,d);Array.isArray(t)?(g=t[0],Object.assign(y,t[1])):g=t}return g}const Yt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ut=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ht=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Gt(e){return e?parseInt(e):1}function Vt(e){return e&&parseFloat(e.replace(",","."))||0}const Qt=[31,null,31,30,31,30,31,31,30,31,30,31];function Jt(e){return e%400==0||e%4==0&&e%100!=0}const Xt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Zt=[{name:"January",maxDays:31},{name:"February",maxDays:29},{name:"March",maxDays:31},{name:"April",maxDays:30},{name:"May",maxDays:31},{name:"June",maxDays:30},{name:"July",maxDays:31},{name:"August",maxDays:31},{name:"September",maxDays:30},{name:"October",maxDays:31},{name:"November",maxDays:30},{name:"December",maxDays:31}];function Kt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Date(2020,0,1,14,5,5),r={},a=t.dateStyle||"short",o=t.timeStyle||"none";"none"!==a&&(r.dateStyle=a),"none"!==o&&(r.timeStyle=o),t.hourSystem&&"auto"!==t.hourSystem&&(r.hour12=12===t.hourSystem);const i=new Intl.DateTimeFormat(e||[],r);let s;if("formatToParts"in i)s=i.formatToParts(n);else{const e=[{type:"month",value:"1"},{type:"literal",value:"/"},{type:"day",value:"1"},{type:"literal",value:"/"},{type:"year",value:"20"}];let t=[{type:"hour",value:"2"},{type:"literal",value:":"},{type:"minute",value:"05"}];i.resolvedOptions().hour12&&(t=t.concat([{type:"literal",value:" "},{type:"dayPeriod",value:"am"}]));const n="none"!==o;s="none"!==a&&n?[...e,{type:"literal",value:" "},...t]:n?t:e}return s.map((e=>{let{type:n,value:r}=e,a="",o=1;switch(n){case"literal":a="visual"!==t.tokenStyle&&/[A-Za-z]/.test(r)?`'${r.replace(/'/g,"''")}'`:r;break;case"day":a="visual"===t.tokenStyle?"D":"d",o=!0===t.padDays?2:!1===t.padDays?1:r.length;break;case"era":a="G";break;case"month":a="M",o=r.length>3?4:3===r.length?3:!0===t.padMonths?2:!1===t.padMonths?1:r.length;break;case"relatedYear":case"year":a="visual"===t.tokenStyle?"Y":"y",o=!0===t.fullYear?4:!1===t.fullYear?2:r.length;break;case"dayPeriod":a="a";break;case"fractionalSecond":a="S",o=r.length;break;case"hour":a="visual"===t.tokenStyle||i.resolvedOptions().hour12?"h":"H",o=!0===t.padHours?2:!1===t.padHours?1:r.length;break;case"minute":a="m",o=!0===t.padMinutes?2:!1===t.padMinutes?1:r.length;break;case"second":a="s",o=!0===t.padSeconds?2:!1===t.padSeconds?1:r.length;break;case"weekday":a="e",o=4}return a.repeat(o)})).join("")}function en(e,t){return function(e,t,n){const r=_(),a=n?.locale??r.locale??ve,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=s(e,n?.in);if(!Be(c))throw new RangeError("Invalid time value");let l=t.match(Ye).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,Ie[t])(e,a.formatLong):e})).join("").match(qe).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Ge(e)};if(Me[t])return{isToken:!0,value:e};if(t.match(He))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));a.localize.preprocessor&&(l=a.localize.preprocessor(c,l));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return l.map((r=>{if(!r.isToken)return r.value;const o=r.value;return(!n?.useAdditionalWeekYearTokens&&We(o)||!n?.useAdditionalDayOfYearTokens&&$e(o))&&Re(o,t,String(e)),(0,Me[o[0]])(c,o,a.localize,u)})).join("")}(e,t??Kt())}function tn(e){return function(e,t){const n=s(e,t?.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=t?.format??"extended",a=t?.representation??"complete";let o="",i="";const c="extended"===r?"-":"",l="extended"===r?":":"";if("time"!==a){const e=Le(n.getDate(),2),t=Le(n.getMonth()+1,2);o=`${Le(n.getFullYear(),4)}${c}${t}${c}${e}`}if("date"!==a){const e=n.getTimezoneOffset();if(0!==e){const t=Math.abs(e);i=`${e<0?"+":"-"}${Le(Math.trunc(t/60),2)}:${Le(t%60,2)}`}else i="Z";o=`${o}${""===o?"":"T"}${[Le(n.getHours(),2),Le(n.getMinutes(),2),Le(n.getSeconds(),2)].join(l)}${i}`}return o}(e,{representation:"date"})}function nn(e,t){let n;n="string"==typeof t?[t]:Array.isArray(t)&&t.length>0?t:[Kt()];const r=new Date;for(let t=0;t<n.length;t+=1){const a=qt(e,n[t],r);if(Be(a))return a}return null}function rn(e){const t=function(e,t){const n=()=>i(t?.in,NaN),o=t?.additionalDigits??2,c=function(e){const t={},n=e.split(Yt.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Yt.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Yt.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const e=Yt.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let l;if(c.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?a:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(c.date,o);l=function(e,t){if(null===t)return new Date(NaN);const n=e.match(Ut);if(!n)return new Date(NaN);const r=!!n[4],a=Gt(n[1]),o=Gt(n[2])-1,i=Gt(n[3]),s=Gt(n[4]),c=Gt(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,c)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}(t,s,c):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Qt[t]||(Jt(e)?29:28))}(t,o,i)&&function(e,t){return t>=1&&t<=(Jt(e)?366:365)}(t,a)?(e.setUTCFullYear(t,o,Math.max(a,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!l||isNaN(+l))return n();const u=+l;let d,p=0;if(c.time&&(p=function(e){const t=e.match(zt);if(!t)return NaN;const n=Vt(t[1]),o=Vt(t[2]),i=Vt(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,o,i)?n*a+o*r+1e3*i:NaN}(c.time),isNaN(p)))return n();if(!c.timezone){const e=new Date(u+p),n=s(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return d=function(e){if("Z"===e)return 0;const t=e.match(Ht);if(!t)return 0;const n="+"===t[1]?-1:1,o=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(o*a+i*r):NaN}(c.timezone),isNaN(d)?n():s(u+p+d,t?.in)}(e);return Be(t)?t:null}function an(e){return Xt[e]||"Unknown"}function on(e){return Zt[e]?.name||"Unknown"}function sn(e,t){let n=c(e);if(0===t.length)return n;const r=n.getDay(),a=t.map((e=>e>=r?e-r:e+7-r)).reduce(((e,t)=>t<e?t:e));return a>0&&(n=d(n,{days:a})),n}function cn(e,t){const n=I(e),r=I(d(n,{months:1})),a=e.getDate()<=t?n:r,o=ie(a);return a.setDate(Math.min(t,o)),a}function ln(e,t,n){const r=I(e),a=I(d(r,{months:1})),o=e=>{const r=ie(e);let a=e;a.getDay()!==n&&(a=ce(a,n));let o=7*(t-1);return a.getDate()+o>r&&(o=7*Math.floor((r-a.getDate())/7)),t>1&&(a=d(a,{days:o})),a};let i=o(r);return p(i,e)&&(i=o(a)),i}function un(e,t,n){const r=new Date(e.getFullYear(),t,1);r.setDate(Math.min(n,ie(r)));const a=new Date(e.getFullYear()+1,t,1);a.setDate(Math.min(n,ie(a)));let o=r;return p(o,e)&&(o=a),o}class dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.intervalUnit=e,this.intervalLength=t.intervalLength??1,this.startDate=t.startDate||null,this.baseOnCompletion=t.baseOnCompletion??!1,this.weekNumber=t.weekNumber??null,this.daysOfWeek=t.daysOfWeek||null,this.month=t.month??null,this.dayOfMonth=t.dayOfMonth??null,this.onWeekend=t.onWeekend||"no-change",this.endDate=t.endDate||null,this.maxCount=t.maxCount??null}getNextOccurrence(e){if("number"==typeof this.maxCount&&this.maxCount<1)return null;const t=c(e||new Date);let n=t;this.startDate&&p(t,this.startDate)&&(n=c(this.startDate)),"previous-weekday"===this.onWeekend&&le(n)?n=ce(n,1):"nearest-weekday"===this.onWeekend&&6===n.getDay()&&(n=ce(n,0));const r=e=>n&&p(e,n);let a=t;switch(this.intervalUnit){case"day":a=d(a,{days:this.intervalLength}),r(a)&&(a=n);break;case"month":if(this.dayOfMonth||this.weekNumber){if(a=d(a,{months:this.intervalLength,days:-14}),this.dayOfMonth)a=cn(a,this.dayOfMonth),r(a)&&(a=cn(n,this.dayOfMonth));else if(this.weekNumber){let e=0;this.daysOfWeek&&this.daysOfWeek.length>0&&([e]=this.daysOfWeek),a=ln(a,this.weekNumber,e),r(a)&&(a=ln(n,this.weekNumber,e))}}else a=d(a,{months:this.intervalLength}),r(a)&&(a=cn(n,t.getDate()));break;case"year":"number"==typeof this.month?(a=d(a,{years:this.intervalLength,months:-6}),a=un(a,this.month,this.dayOfMonth||1),r(a)&&(a=un(n,this.month,this.dayOfMonth||1))):(a=d(a,{years:this.intervalLength}),r(a)&&(a=un(n,t.getMonth(),t.getDate())));break;case"week":this.daysOfWeek&&this.daysOfWeek.length>0?(-1!==this.daysOfWeek.findIndex((e=>e>a.getDay()))?(a=d(a,{days:1}),a=sn(a,this.daysOfWeek)):(a=ce(a,0),this.intervalLength>1&&(a=d(a,{weeks:this.intervalLength-1})),a=sn(a,this.daysOfWeek)),r(a)&&(a=sn(n,this.daysOfWeek))):(a=d(a,{weeks:this.intervalLength}),r(a)&&(a=sn(n,[t.getDay()])))}if("no-change"!==this.onWeekend&&le(a)){let e;switch(this.onWeekend){case"previous-weekday":e=!1;break;case"next-weekday":default:e=!0;break;case"nearest-weekday":e=0===a.getDay()}a=e?ce(a,1):ue(a,5)}return this.endDate&&p(this.endDate,a)?null:a}advance(){"number"==typeof this.maxCount&&this.maxCount>0&&(this.maxCount-=1)}isDefault(){const e=new dn(this.intervalUnit);return this.intervalLength===e.intervalLength&&this.startDate?.getTime()===e.startDate?.getTime()&&this.baseOnCompletion===e.baseOnCompletion&&this.weekNumber===e.weekNumber&&!!oe()(this.daysOfWeek,e.daysOfWeek)&&this.month===e.month&&this.dayOfMonth===e.dayOfMonth&&this.onWeekend===e.onWeekend&&this.endDate?.getTime()===e.endDate?.getTime()&&this.maxCount===e.maxCount}toString(){const e=this.intervalLength;let t="";switch(this.intervalUnit){case"day":t=1===e?"Daily":`Every ${e} days`;break;case"week":t=1===e?"Weekly":`Every ${e} weeks`,this.daysOfWeek&&this.daysOfWeek.length>0&&(t+=" on ",7===re()(this.daysOfWeek).length?t+="all days":this.daysOfWeek.forEach(((e,n)=>{n>0&&(t+=", "),t+=an(e)})));break;case"month":if(t=1===e?"Monthly":`Every ${e} months`,this.dayOfMonth)t+=` on the ${te()(this.dayOfMonth)}`;else if(this.weekNumber&&1===this.daysOfWeek?.length){let e;e=this.weekNumber<5?te()(this.weekNumber):"last";const n=an(this.daysOfWeek[0]);t+=` on the ${e} ${n}`}break;case"year":if(t=1===e?"Annually":`Every ${e} years`,Number.isInteger(this.month)&&this.dayOfMonth){const e=on(this.month),n=te()(this.dayOfMonth);t+=` on ${e} ${n}`}}return t}toStringVerbose(e){let t=this.toString();if(this.startDate&&(t+=`, from ${en(this.startDate,e)}`),this.endDate?t+=`, until ${en(this.endDate,e)}`:this.maxCount&&(1===this.maxCount?t+=", 1 time":t+=`, ${this.maxCount} times`),this.baseOnCompletion&&(t+=", based on completion date"),"no-change"!==this.onWeekend)switch(t+=", ",this.onWeekend){case"previous-weekday":t+="previous weekday";break;case"next-weekday":t+="next weekday";break;case"nearest-weekday":t+="nearest weekday"}return t}static fromJson(e){const t=e=>e?rn(e):null;return new dn(e.intervalUnit,{intervalLength:e.intervalLength,startDate:t(e.startDate),baseOnCompletion:e.baseOnCompletion,weekNumber:e.weekNumber,daysOfWeek:e.daysOfWeek,month:e.month,dayOfMonth:e.dayOfMonth,onWeekend:e.onWeekend,endDate:t(e.endDate),maxCount:e.maxCount})}}var pn=dn,fn=n(8055),hn=n.n(fn),mn=n(497),gn=n.n(mn),yn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,vn=function(e){return"string"==typeof e&&yn.test(e)},bn=function(e){if(!vn(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};function wn(e,t,n){let r=e.get(t);r||(r=[],e.set(t,r)),r.push(n)}function kn(e,t,n){const r=e.get(t);if(!r)return!1;const a=r.findIndex(n);return!(a<0||(r.splice(a,1),0===r.length&&e.delete(t),0))}function xn(e){if(null==e)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":case"number":case"boolean":return typeof e;default:return"null"}}function En(e){return"string"==typeof e&&vn(e)&&4===bn(e)}function Dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=n=>{t.errorCallback?.(n,e,{valueName:t.valueName??null,expectedType:t.expectedType??null,allowConversion:t.allowConversion||!1,expectedValues:t.expectedValues||null,requireUuid:t.requireUuid||!1,requireInteger:t.requireInteger||!1,min:t.min??null,max:t.max??null,customPredicate:t.customPredicate||null})},r=t.allowConversion||!1;let a=e;if(t.expectedType){if("null"!==t.expectedType&&null==e)return n("bad-type"),!1;switch(t.expectedType){case"string":if("string"!=typeof e)return n("bad-type"),!1;break;case"number":if("number"!=typeof e){if(!r||"string"!=typeof e)return n("bad-type"),!1;a=Number(e)}if(!Number.isFinite(a))return n("bad-type"),!1;break;case"boolean":if("boolean"!=typeof e){if(!r||"string"!=typeof e)return n("bad-type"),!1;switch(e.toLowerCase()){case"true":a=!0;break;case"false":a=!1;break;default:return n("bad-type"),!1}}break;case"null":if(null!=e)return n("bad-type"),!1;break;case"date":if(!(e instanceof Date)){if(!r||"string"!=typeof e)return n("bad-type"),!1;a=rn(e)}if(!((o=a)instanceof Date&&Be(o)))return n("bad-date"),!1;break;default:if(xn(e)!==t.expectedType)return n("bad-type"),!1}}var o;if("string"==typeof a){if(t.expectedValues&&!t.expectedValues.includes(a))return n("unknown-value"),!1;if(t.requireUuid&&!En(a))return n("bad-id"),!1}if("number"==typeof a){if(t.requireInteger&&!Number.isInteger(a))return n("not-integer"),!1;if(null!=t.min&&a<t.min)return n("too-low"),!1;if(null!=t.max&&a>t.max)return n("too-high"),!1}return t.customPredicate&&!t.customPredicate(a)?(n("failed-predicate"),!1):(t.successCallback?.(a,{valueName:t.valueName??null}),!0)}const Cn=new WeakMap;class Ln{constructor(){const e={storageMethod:null,dateFormat:{},deleteAfter:null,filterGroups:new Map,eventEmitter:new(gn())};Cn.set(this,e),this.resetToDefault()}getSetting(e){switch(e){case"storageMethod":return this.storageMethod;case"dateFormat":return this.dateFormat;case"deleteAfter":return this.deleteAfter;default:if(e.startsWith("filterGroups.")){const t=e.substring(13);return this.getFilterOptions(t)}return null}}setSetting(e,t){let n=!0;switch(e){case"storageMethod":this.storageMethod=t;break;case"dateFormat":this.setDateFormat(t);break;case"deleteAfter":this.deleteAfter=t;break;default:if(e.startsWith("filterGroups.")){const n=e.substring(13);this.setFilterOptions(n,t)}else n=!1}n&&Cn.get(this).eventEmitter.emit("update-setting",{type:"update-setting",name:e,value:hn()(t)})}forEach(e){const t=["storageMethod","dateFormat","deleteAfter"],n=[...Cn.get(this).filterGroups.keys()].map((e=>`filterGroups.${e}`));t.push(...n),t.forEach((t=>{e(t,this.getSetting(t))}))}get storageMethod(){return Cn.get(this).storageMethod}set storageMethod(e){if("none"!==e&&"local"!==e)throw new RangeError(`Unrecognized storage method: "${e}"`);const t=Cn.get(this);t.storageMethod=e,t.eventEmitter.emit("update-setting",{type:"update-setting",name:"storageMethod",value:e})}get dateFormat(){return hn()(Cn.get(this).dateFormat)}get deleteAfter(){return Cn.get(this).deleteAfter}set deleteAfter(e){const t=Cn.get(this);t.deleteAfter=e,t.eventEmitter.emit("update-setting",{type:"update-setting",name:"deleteAfter",value:e})}getFilterOptions(e){const t=Cn.get(this).filterGroups.get(e);return t?hn()(t):null}setFilterOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Cn.get(this),{filterGroups:r}=n,a=r.get(e),o={groupBy:t.groupBy??a?.groupBy??"default",sortBy:t.sortBy??a?.sortBy??"default",groupDescending:t.groupDescending??a?.groupDescending??!1,sortDescending:t.sortDescending??a?.sortDescending??!1,showCompleted:t.showCompleted??a?.showCompleted??!1};r.set(e,o),n.eventEmitter.emit("update-setting",{type:"update-setting",name:`filterGroups.${e}`,value:hn()(o)})}resetToDefault(){this.storageMethod="local",this.setDateFormat("local"),this.deleteAfter=14;const e={groupBy:"default",sortBy:"default",groupDescending:!1,sortDescending:!1,showCompleted:!1};["default","dates","projects","priorities"].forEach((t=>{this.setFilterOptions(t,e)}))}setDateFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local";const t=Cn.get(this);t.dateFormat="string"==typeof e?Ln.lookupDateFormat(e):hn()(e),t.eventEmitter.emit("update-setting",{type:"update-setting",name:"dateFormat",value:this.dateFormat})}static lookupDateFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local";switch(e){case"iso":return{outputPattern:"yyyy-MM-dd",inputPatterns:["yyyy-MM-dd"],visualPattern:"YYYY-MM-DD",type:e};case"month-day-year":return{outputPattern:"MM/dd/yyyy",inputPatterns:["MM/dd/yy","MM/dd/yyyy"],visualPattern:"MM/DD/YYYY",type:e};case"day-month-year":return{outputPattern:"dd/MM/yyyy",inputPatterns:["dd/MM/yy","dd/MM/yyyy"],visualPattern:"DD/MM/YYYY",type:e};case"year-month-day":return{outputPattern:"yyyy/MM/dd",inputPatterns:["yy/MM/dd","yyyy/MM/dd"],visualPattern:"YYYY/MM/DD",type:e};default:{const e={tokenStyle:"internal",fullYear:!1,padMonths:!0,padDays:!0},t=[Kt(null,e)];e.fullYear=!0;const n=Kt(null,e);return t.push(n),e.tokenStyle="visual",{outputPattern:n,inputPatterns:t,visualPattern:Kt(null,e),type:"local"}}}}addEventListener(e,t){Cn.get(this).eventEmitter.on(e,t)}toJSON(){const e={storageMethod:this.storageMethod,dateFormat:this.dateFormat,deleteAfter:this.deleteAfter,filterGroups:{}};return Cn.get(this).filterGroups.forEach(((t,n)=>{e.filterGroups[n]=hn()(t)})),e}importFromJson(e){const t=[],n=(e,n,r)=>{if(null!=n)switch(e){case"bad-type":t.push(`Error: Expected type "${r.expectedType}" for setting "${r.valueName}" (received "${xn(n)}").`);break;case"unknown-value":t.push(`Error: Unrecognized value "${n}" for setting "${r.valueName}".`);break;case"not-integer":t.push(`Error: Value for setting "${r.valueName}" must be an integer (received "${n}").`);break;case"too-low":t.push(`Error: Value for setting "${r.valueName}" cannot be below "${r.min}" (received "${n}").`);break;case"too-high":t.push(`Error: Value for setting "${r.valueName}" cannot be above "${r.max}" (received "${n}").`);break;default:t.push(`Error: Encountered unrecognized error "${e}" for setting "${r.valueName}".`)}};if(Dn(e.storageMethod,{valueName:"storageMethod",expectedType:"string",expectedValues:["none","local"],errorCallback:n})&&(this.storageMethod=e.storageMethod),null!=e.dateFormat&&Dn(e.dateFormat.type,{valueName:"dateFormat.type",expectedType:"string",expectedValues:["local","iso","month-day-year","day-month-year","year-month-day"],errorCallback:n})&&this.setDateFormat(e.dateFormat.type),Dn(e.deleteAfter,{valueName:"deleteAfter",expectedType:"number",requireInteger:!0,min:0,errorCallback:n})&&(this.deleteAfter=e.deleteAfter),null!=e.filterGroups){const t=t=>{const r=e.filterGroups[t];if(null!=r){const e={};Dn(r.groupBy,{valueName:`filterGroups.${t}.groupBy`,expectedType:"string",expectedValues:["default","due-date","priority","project","none"],errorCallback:n})&&(e.groupBy=r.groupBy),Dn(r.sortBy,{valueName:`filterGroups.${t}.sortBy`,expectedType:"string",expectedValues:["default","name","due-date","create-date","priority","project"],errorCallback:n})&&(e.sortBy=r.sortBy),Dn(r.groupDescending,{valueName:`filterGroups.${t}.groupDescending`,expectedType:"boolean",errorCallback:n})&&(e.groupDescending=r.groupDescending),Dn(r.sortDescending,{valueName:`filterGroups.${t}.sortDescending`,expectedType:"boolean",errorCallback:n})&&(e.sortDescending=r.sortDescending),Dn(r.showCompleted,{valueName:`filterGroups.${t}.showCompleted`,expectedType:"boolean",errorCallback:n})&&(e.showCompleted=r.showCompleted),this.setFilterOptions(t,e)}};t("default"),t("dates"),t("projects"),t("priorities")}return{errors:t}}}var jn=Ln;const Mn=[{value:"day",singular:"Day",plural:"Days"},{value:"week",singular:"Week",plural:"Weeks"},{value:"month",singular:"Month",plural:"Months"},{value:"year",singular:"Year",plural:"Years"}],Sn=new WeakMap;function On(e,t,n){return(n||Sn.get(e).containers.parent).querySelector(`#recurring-date-${t}`)}function Tn(e,t,n){const r=Sn.get(e);let a=null;t.value&&(a=nn(t.value,r.dateFormat.inputPatterns));let o=null;switch(t.id){case"recurring-date-start-date":o="Select Start Date";break;case"recurring-date-end-date":o="Select End Date"}const i=t;n.showModal(new X({confirm:e=>{i.value=en(e,r.dateFormat.outputPattern),i.setCustomValidity("")},startDate:a,title:o}))}var Pn=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={initialRecurrence:e.initial||null,baseDate:e.baseDate||new Date,dateFormat:e.dateFormat||jn.lookupDateFormat(),callbacks:{confirm:e.confirm||null,cancel:e.cancel||null},containers:{parent:null,context:null,weekOptions:null,monthOptions:null,yearOptions:null},title:"Edit Recurring Date"};Sn.set(this,t)}get title(){return Sn.get(this).title}addContent(e,t){const n=Sn.get(this);let r=document.createElement("div");r.classList.add("form-input-container"),r.appendChild(S({type:"number",id:"recurring-date-interval-length",name:"recurring-date-interval-length",value:"1",classList:["form-input-inline","form-input-count"],required:!0,min:1,container:{inline:!0},label:{value:"Repeat every ",classList:["form-input-label-inline"]}}));let a=document.createElement("span");a.classList.add("form-input-label-inline"),a.textContent=" ",r.appendChild(a),r.appendChild(S({type:"select",id:"recurring-date-interval-unit",name:"recurring-date-interval-unit",classList:["form-select-inline"],menuItems:Mn.map((e=>{const t="week"===e.value;return{value:e.value,label:e.singular,selected:t}}))})),e.appendChild(r);const o=document.createElement("div");e.appendChild(o),r=document.createElement("div"),r.classList.add("form-input-container"),a=document.createElement("div"),a.classList.add("form-input-label-inline"),a.textContent="Stop repeating",r.appendChild(a),r.appendChild(S({type:"radio",id:"recurring-date-end-type-never",name:"recurring-date-end-type",value:"never",checked:!0,label:{value:"Never",classList:["form-input-label-inline"]},container:{classList:["form-input-item-container"]}}));let i=document.createElement("div");i.classList.add("form-input-item-container"),i.appendChild(S({type:"radio",id:"recurring-date-end-type-date",name:"recurring-date-end-type",value:"date"})),a=document.createElement("label"),a.classList.add("form-input-label-inline"),a.htmlFor="recurring-date-end-type-date",a.textContent="On date ",i.appendChild(a),i.appendChild(O({id:"recurring-date-end-date",name:"recurring-date-end-date",placeholder:n.dateFormat.visualPattern,classList:["form-input-inline"],required:!0,container:{classList:["form-input-date-container-inline"],inline:!0},button:{id:"recurring-date-end-date-button",classList:["form-button"],callback:e=>Tn(this,e,t)}})),r.appendChild(i),i=document.createElement("div"),i.classList.add("form-input-item-container"),i.appendChild(S({type:"radio",id:"recurring-date-end-type-count",name:"recurring-date-end-type",value:"count"})),a=document.createElement("label"),a.classList.add("form-input-label-inline"),a.htmlFor="recurring-date-end-type-count",a.textContent="After ",i.appendChild(a),i.appendChild(S({type:"number",id:"recurring-date-end-count",name:"recurring-date-end-count",value:"1",classList:["form-input-inline","form-input-count"],required:!0,min:1})),a=document.createElement("label"),a.id="recurring-date-end-count-label",a.classList.add("form-input-label-inline"),a.htmlFor="recurring-date-end-count",a.textContent=" occurrences",i.appendChild(a),r.appendChild(i),e.appendChild(r),r=document.createElement("div"),r.classList.add("form-input-container"),a=document.createElement("div"),a.classList.add("form-input-label-inline"),a.textContent="Additional options:",r.appendChild(a),i=document.createElement("div"),i.classList.add("form-input-item-container"),i.appendChild(S({type:"checkbox",id:"recurring-date-use-start-date",name:"recurring-date-additional-options",value:"use-start-date"})),a=document.createElement("label"),a.classList.add("form-input-label-inline"),a.htmlFor="recurring-date-use-start-date",a.textContent="Start on ",i.appendChild(a),i.appendChild(O({id:"recurring-date-start-date",name:"recurring-date-start-date",placeholder:n.dateFormat.visualPattern,classList:["form-input-inline"],required:!0,container:{classList:["form-input-date-container-inline"],inline:!0},button:{id:"recurring-date-start-date-button",classList:["form-button"],callback:e=>Tn(this,e,t)}})),r.appendChild(i),r.appendChild(S({type:"checkbox",id:"recurring-date-base-on-completion",name:"recurring-date-additional-options",value:"base-on-completion",label:{value:"Repeat from completion date",classList:["form-input-label-inline"]},container:{classList:["form-input-item-container"]}})),i=document.createElement("div"),i.classList.add("form-input-item-container"),i.appendChild(S({type:"checkbox",id:"recurring-date-no-weekend",name:"recurring-date-additional-options",value:"no-weekend"})),a=document.createElement("label"),a.classList.add("form-input-label-inline"),a.htmlFor="recurring-date-no-weekend",a.textContent="On weekends, use ",i.appendChild(a),i.appendChild(S({type:"select",id:"recurring-date-weekend-select",name:"recurring-date-weekend-select",classList:["form-select-inline"],menuItems:[{value:"nearest-weekday",label:"nearest",selected:!0},{value:"previous-weekday",label:"previous"},{value:"next-weekday",label:"next"}]})),a=document.createElement("label"),a.classList.add("form-input-label-inline"),a.htmlFor="recurring-date-weekend-select",a.textContent=" weekday",i.appendChild(a),r.appendChild(i),e.appendChild(r);const s=function(){const e=document.createElement("div");e.classList.add("form-input-container");let t=document.createElement("div");t.classList.add("form-input-label-inline"),t.textContent="Repeat on",e.appendChild(t),e.appendChild(S({type:"radio",id:"recurring-date-week-type-previous",name:"recurring-date-week-type",value:"use-previous",checked:!0,label:{value:"The same day of the week as before",classList:["form-input-label-inline"]},container:{classList:["form-input-item-container"]}}));const n=document.createElement("div");return n.classList.add("form-input-item-container"),n.appendChild(S({type:"radio",id:"recurring-date-week-type-select-days",name:"recurring-date-week-type",value:"select-days"})),t=document.createElement("label"),t.classList.add("form-input-label-inline"),t.textContent="These days: ",t.htmlFor="recurring-date-week-type-select-days",n.appendChild(t),K()(7).map((e=>{const t=an(e);return{value:t.toLowerCase(),label:t.slice(0,1)}})).forEach((e=>{n.appendChild(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.createElement("button");t.id&&(n.id=t.id),t.name&&(n.name=t.name),t.title&&(n.title=t.title),t.value&&(n.value=t.value),t.classList?n.classList.add(...t.classList):n.classList.add("toggle-button"),n.textContent=e;const r=t.activeClass||"active";return t.defaultActive&&n.classList.add(r),n.addEventListener("click",(()=>n.classList.toggle(r))),n}(e.label,{id:`recurring-date-weekday-${e.value}`,name:"recurring-date-weekday",value:e.value,classList:["toggle-button","form-weekday-button"]}))})),e.appendChild(n),e}(),c=function(){const e=document.createElement("div");let t,n,r;return e.classList.add("form-input-container"),t=document.createElement("div"),t.classList.add("form-input-label-inline"),t.textContent="Repeat on",e.appendChild(t),e.appendChild(S({type:"radio",id:"recurring-date-month-type-previous",name:"recurring-date-month-type",value:"use-previous",checked:!0,label:{value:"The same day of the month as before",classList:["form-input-label-inline"]},container:{classList:["form-input-item-container"]}})),n=document.createElement("div"),n.classList.add("form-input-item-container"),n.appendChild(S({type:"radio",id:"recurring-date-month-type-day",name:"recurring-date-month-type",value:"day-of-month"})),t=document.createElement("label"),t.classList.add("form-input-label-inline"),t.htmlFor="recurring-date-month-type-day",t.textContent="The ",n.appendChild(t),r=K()(1,32).map((e=>({value:e.toString(),label:te()(e)}))),n.appendChild(S({type:"select",id:"recurring-date-month-day",name:"recurring-date-month-day",classList:["form-select-inline"],menuItems:r})),t=document.createElement("label"),t.classList.add("form-input-label-inline"),t.htmlFor="recurring-date-month-day",t.textContent=" day of the month",n.appendChild(t),e.appendChild(n),n=document.createElement("div"),n.classList.add("form-input-item-container"),n.appendChild(S({type:"radio",id:"recurring-date-month-type-week",name:"recurring-date-month-type",value:"week-of-month"})),t=document.createElement("label"),t.classList.add("form-input-label-inline"),t.htmlFor="recurring-date-month-type-week",t.textContent="The ",n.appendChild(t),r=K()(1,6).map((e=>({value:e.toString(),label:e<5?te()(e):"last"}))),n.appendChild(S({type:"select",id:"recurring-date-month-week-number",name:"recurring-date-month-week-number",classList:["form-select-inline"],menuItems:r})),t=document.createElement("span"),t.classList.add("form-input-label-inline"),t.textContent=" ",n.appendChild(t),r=K()(7).map((e=>{const t=an(e);return{value:t.toLowerCase(),label:t}})),n.appendChild(S({type:"select",id:"recurring-date-month-week-day",name:"recurring-date-month-week-day",classList:["form-select-inline"],menuItems:r})),t=document.createElement("label"),t.classList.add("form-input-label-inline"),t.htmlFor="recurring-date-month-week-day",t.textContent=" of the month",n.appendChild(t),e.appendChild(n),e}(),l=function(){const e=document.createElement("div");let t,n;e.classList.add("form-input-container"),t=document.createElement("div"),t.classList.add("form-input-label-inline"),t.textContent="Repeat on",e.appendChild(t),e.appendChild(S({type:"radio",id:"recurring-date-year-type-previous",name:"recurring-date-year-type",value:"use-previous",checked:!0,label:{value:"The same month and day as before",classList:["form-input-label-inline"]},container:{classList:["form-input-item-container"]}}));const r=document.createElement("div");return r.classList.add("form-input-item-container"),r.appendChild(S({type:"radio",id:"recurring-date-year-type-day",name:"recurring-date-year-type",value:"month-and-day"})),t=document.createElement("label"),t.classList.add("form-input-label-inline"),t.htmlFor="recurring-date-year-type-day",t.textContent="The ",r.appendChild(t),n=K()(1,32).map((e=>({value:e.toString(),label:te()(e)}))),r.appendChild(S({type:"select",id:"recurring-date-year-day",name:"recurring-date-year-day",classList:["form-select-inline"],menuItems:n})),t=document.createElement("span"),t.classList.add("form-input-label-inline"),t.textContent=" day of ",r.appendChild(t),n=K()(12).map((e=>{const t=on(e);return{value:t.toLowerCase(),label:t}})),r.appendChild(S({type:"select",id:"recurring-date-year-month",name:"recurring-date-year-month",classList:["form-select-inline"],menuItems:n})),e.appendChild(r),e}();n.containers={parent:e,context:o,weekOptions:s,monthOptions:c,yearOptions:l},function(e){const t=Sn.get(e),{weekOptions:n,monthOptions:r,yearOptions:a}=t.containers,o=t.initialRecurrence;if(o){let i;switch(On(e,"interval-length").value=o.intervalLength,On(e,"interval-unit").value=o.intervalUnit,o.intervalUnit){case"week":i=n,o.daysOfWeek?(On(e,"week-type-select-days",i).checked=!0,o.daysOfWeek.forEach((t=>{const n=`weekday-${an(t).toLowerCase()}`,r=On(e,n,i);r&&r.classList.add("active")}))):On(e,"week-type-previous",i).checked=!0;break;case"month":if(i=r,o.dayOfMonth)On(e,"month-type-day",i).checked=!0,On(e,"month-day",i).value=o.dayOfMonth;else if(o.weekNumber&&o.daysOfWeek&&1===o.daysOfWeek.length){On(e,"month-type-week",i).checked=!0;const t=On(e,"month-week-number",i),n=On(e,"month-week-day",i);t.value=o.weekNumber,n.value=an(o.daysOfWeek[0]).toLowerCase()}else On(e,"month-type-previous",i).checked=!0;break;case"year":if(i=a,Number.isInteger(o.month)&&o.dayOfMonth){On(e,"year-type-day",i).checked=!0;const t=On(e,"year-month",i),n=On(e,"year-day",i);t.value=on(o.month).toLowerCase(),n.value=o.dayOfMonth}else On(e,"year-type-previous",i).checked=!0}o.endDate?(On(e,"end-type-date").checked=!0,On(e,"end-date").value=en(o.endDate,t.dateFormat.outputPattern)):o.maxCount?(On(e,"end-type-count").checked=!0,On(e,"end-count").value=o.maxCount):On(e,"end-type-never").checked=!0,o.startDate&&(On(e,"use-start-date").checked=!0,On(e,"start-date").value=en(o.startDate,t.dateFormat.outputPattern)),o.baseOnCompletion&&(On(e,"base-on-completion").checked=!0),"no-change"!==o.onWeekend&&(On(e,"no-weekend").checked=!0,On(e,"weekend-select").value=o.onWeekend)}const i=t.baseDate,s=an(i.getDay()).toLowerCase(),c=i.getDate(),l=on(i.getMonth()).toLowerCase(),u=Math.floor((c-1)/7)+1;if(o&&"week"===o.intervalUnit&&o.daysOfWeek||On(e,`weekday-${s}`,n).classList.add("active"),o&&"month"===o.intervalUnit&&o.dayOfMonth||(On(e,"month-day",r).value=c.toString()),!o||"month"!==o.intervalUnit||!o.weekNumber){const t=On(e,"month-week-number",r),n=On(e,"month-week-day",r);t.value=u.toString(),n.value=s}if(!o||"year"!==o.intervalUnit||!Number.isInteger(o.month)){const t=On(e,"year-month",a),n=On(e,"year-day",a);t.value=l,n.value=c.toString()}}(this),function(e){const t=Sn.get(e),{parent:n}=t.containers,r=e=>e.dispatchEvent(new Event("change")),a=On(e,"interval-length"),o=On(e,"interval-unit");a.addEventListener("change",(e=>{const t=Number(e.target.value);if(e.target.value.length>0&&Number.isFinite(t)){const e=1!==t;Mn.forEach((t=>{const n=`option[value="${t.value}"]`,r=o.querySelector(n),a=e?t.plural:t.singular;r.textContent!==a&&(r.textContent=a)}))}})),r(a),o.addEventListener("change",(()=>{!function(e){const{containers:t}=Sn.get(e),n=t.context;for(;n.firstChild;)n.removeChild(n.firstChild);switch(On(e,"interval-unit").value){case"week":n.appendChild(t.weekOptions);break;case"month":n.appendChild(t.monthOptions);break;case"year":n.appendChild(t.yearOptions)}}(e)})),r(o);const i='input[type="radio"]',{weekOptions:s,monthOptions:c,yearOptions:l}=t.containers,u=e=>{const t=s.querySelectorAll(".form-weekday-button"),n="select-days"===e.target.value;t.forEach((e=>{e.disabled=!n}))};s.querySelectorAll(i).forEach((e=>{e.addEventListener("change",u),e.checked&&r(e)}));const d=t=>{const n=On(e,"month-day",c),r=On(e,"month-week-number",c),a=On(e,"month-week-day",c);n.disabled="day-of-month"!==t.target.value,r.disabled="week-of-month"!==t.target.value,a.disabled="week-of-month"!==t.target.value};c.querySelectorAll(i).forEach((e=>{e.addEventListener("change",d),e.checked&&r(e)}));const p=e=>{const t=l.querySelectorAll("select"),n="month-and-day"===e.target.value;t.forEach((e=>{e.disabled=!n}))};l.querySelectorAll(i).forEach((e=>{e.addEventListener("change",p),e.checked&&r(e)}));const f=On(e,"year-month",l),h=On(e,"year-day",l);f.addEventListener("change",(e=>{const t=K()(12).findIndex((t=>on(t).toLowerCase()===e.target.value)),n=Number(h.value);h.innerHTML="";const r=(a=t,Zt[a]?.maxDays??0);var a;K()(1,r+1).forEach((e=>{const t=document.createElement("option");t.value=e.toString(),t.textContent=te()(e),h.appendChild(t)})),h.value=n<=r?n:r})),r(f);const m=On(e,"end-count");m.addEventListener("change",(t=>{const n=Number(t.target.value);if(t.target.value.length>0&&Number.isFinite(n)){const t=1===n?" occurrence":" occurrences";On(e,"end-count-label").textContent=t}})),r(m);const g=t=>{const n=On(e,"end-date"),r=On(e,"end-date-button"),a=On(e,"end-count");n.disabled="date"!==t.target.value,r.disabled="date"!==t.target.value,a.disabled="count"!==t.target.value};n.querySelectorAll('input[name="recurring-date-end-type"]').forEach((e=>{e.addEventListener("change",g),e.checked&&r(e)}));const y=On(e,"use-start-date");y.addEventListener("change",(t=>{const n=t.target.checked;On(e,"start-date").disabled=!n,On(e,"start-date-button").disabled=!n})),r(y);const v=On(e,"no-weekend");v.addEventListener("change",(t=>{On(e,"weekend-select").disabled=!t.target.checked})),r(v);const b=e=>{const{value:n}=e.target;if(n.length>0){let r="";nn(n,t.dateFormat.inputPatterns)||(r=`Please enter a valid date in ${t.dateFormat.visualPattern} format.`),e.target.setCustomValidity(r)}};On(e,"end-date").addEventListener("change",b),On(e,"start-date").addEventListener("change",b)}(this)}confirm(){const e=Sn.get(this);if(e.callbacks.confirm){const t=On(this,"interval-unit").value,n={},r=On(this,"interval-length");let a;n.intervalLength=Number(r.value);const o=e=>K()(7).findIndex((t=>e===an(t).toLowerCase()));switch(t){case"week":if(a=e.containers.weekOptions,On(this,"week-type-select-days",a).checked){const e=[];a.querySelectorAll(".form-weekday-button").forEach((t=>{t.classList.contains("active")&&e.push(o(t.value))})),e.length>0&&(n.daysOfWeek=e)}break;case"month":if(a=e.containers.monthOptions,On(this,"month-type-day",a).checked){const e=On(this,"month-day",a);n.dayOfMonth=Number(e.value)}else if(On(this,"month-type-week",a).checked){const e=On(this,"month-week-number",a),t=On(this,"month-week-day",a);n.weekNumber=Number(e.value),n.daysOfWeek=[o(t.value)]}break;case"year":if(a=e.containers.yearOptions,On(this,"year-type-day",a).checked){const e=On(this,"year-month",a),t=On(this,"year-day",a);n.month=K()(12).findIndex((t=>on(t).toLowerCase()===e.value)),n.dayOfMonth=Number(t.value)}}if(On(this,"end-type-date").checked){const t=On(this,"end-date");n.endDate=nn(t.value,e.dateFormat.inputPatterns)}else if(On(this,"end-type-count").checked){const e=On(this,"end-count");n.maxCount=Number(e.value)}if(On(this,"use-start-date").checked){const t=On(this,"start-date");n.startDate=nn(t.value,e.dateFormat.inputPatterns)}n.baseOnCompletion=On(this,"base-on-completion").checked,On(this,"no-weekend").checked&&(n.onWeekend=On(this,"weekend-select").value),e.callbacks.confirm(new pn(t,n))}}cancel(){const{callbacks:e}=Sn.get(this);e.cancel&&e.cancel()}validate(){return!(!On(this,"interval-length").reportValidity()||On(this,"end-type-date").checked&&!On(this,"end-date").reportValidity()||On(this,"end-type-count").checked&&!On(this,"end-count").reportValidity()||On(this,"use-start-date").checked&&!On(this,"start-date").reportValidity())}};class Nn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name=e,this.dueDate=t.dueDate||null,this.creationDate=t.creationDate||new Date,this.completionDate=t.completionDate||null,this.priority=0,"number"==typeof t.priority?this.priority=t.priority:"string"==typeof t.priority&&(this.priorityString=t.priority),this.description=t.description??null,this.recurringDate=t.recurringDate||null,this.project=t.project||null}get priorityString(){return Nn.convertPriorityToString(this.priority)}set priorityString(e){this.priority=Nn.convertStringToPriority(e)}markComplete(e){this.completionDate=e||new Date}markIncomplete(){this.completionDate=null}isComplete(){return Boolean(this.completionDate)}toString(){return this.name?`Task: ${this.name}`:"Task: (untitled)"}static fromJson(e){const t=e=>e?rn(e):null,n=e.recurringDate?pn.fromJson(e.recurringDate):null;return new Nn(e.name,{dueDate:t(e.dueDate),creationDate:t(e.creationDate),completionDate:t(e.completionDate),priority:e.priority,description:e.description,recurringDate:n,project:e.project})}static convertPriorityToString(e){switch(e){case-2:return"very-low";case-1:return"low";case 0:return"medium";case 1:return"high";case 2:return"very-high";default:return"unknown"}}static convertPriorityToPrettyString(e){switch(e){case-2:return"Very Low";case-1:return"Low";case 0:return"Medium";case 1:return"High";case 2:return"Very High";default:return"Unknown"}}static convertStringToPriority(e){switch(e.toLowerCase()){case"very-low":case"very low":return-2;case"low":return-1;case"medium":default:return 0;case"high":return 1;case"very-high":case"very high":return 2}}}var In=Nn;const Fn=new WeakMap;function _n(e){const t=Fn.get(e),n=[{value:"none",label:"None"}];t.projects.forEach((e=>{n.push({value:e.id,label:e.project.name})})),n.push({value:"new",label:"New Project..."});const r=t.controls.project;r.innerHTML="",n.forEach((e=>{const t=document.createElement("option");t.value=e.value,t.textContent=e.label,r.appendChild(t)}))}var An=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={tasks:e,projects:t,taskId:n.taskId||null,projectId:n.projectId||null,priority:n.priority??0,mode:n.taskId?"edit":"add",customRecurrence:null,dateFormat:n.dateFormat||jn.lookupDateFormat(),callbacks:{confirm:n.confirm||null,cancel:n.cancel||null,newProject:n.newProject||null},controls:{name:null,dueDate:null,recurringDate:null,priority:null,project:null,description:null}};Fn.set(this,r)}get title(){return"edit"===Fn.get(this).mode?"Edit Task":"Add Task"}get confirmLabel(){return"edit"===Fn.get(this).mode?"Update":"Add"}get initFocus(){return Fn.get(this).controls.name}addContent(e,t){const n=Fn.get(this),r={classList:["form-input-container"]},a=e=>({value:e,classList:["form-input-label"]});e.appendChild(S({type:"text",id:"task-name",name:"task-name",classList:["form-input"],required:!0,label:a("Name"),container:r}));const o=document.createElement("div");o.classList.add(...r.classList);const i=document.createElement("label");i.textContent="Due Date",i.htmlFor="task-due-date",i.classList.add("form-input-label"),o.appendChild(i),o.appendChild(O({id:"task-due-date",name:"task-due-date",placeholder:n.dateFormat.visualPattern,classList:["form-input-inline"],container:{classList:["form-input-date-container"]},button:{classList:["form-button"],callback:()=>function(e,t){const n=Fn.get(e),r=n.controls.dueDate;let a=null;r.value&&(a=nn(r.value,n.dateFormat.inputPatterns)),t.showModal(new X({confirm:e=>{r.value=en(e,n.dateFormat.outputPattern),r.setCustomValidity("")},startDate:a,title:"Select Due Date"}))}(this,t)}})),e.appendChild(o),e.appendChild(S({type:"select",id:"task-recurring-date",name:"task-recurring-date",classList:["form-select"],label:a("Recurring Date"),container:r,menuItems:[{value:"none",label:"Never Repeat",selected:!0},{value:"daily",label:"Repeat Daily"},{value:"weekly",label:"Repeat Weekly"},{value:"monthly",label:"Repeat Monthly"},{value:"annually",label:"Repeat Annually"},{value:"custom",label:"Custom Recurrence..."}]})),e.appendChild(S({type:"select",id:"task-priority",name:"task-priority",classList:["form-select"],label:a("Priority"),container:r,menuItems:[{value:"very-high",label:"Very High"},{value:"high",label:"High"},{value:"medium",label:"Medium",selected:!0},{value:"low",label:"Low"},{value:"very-low",label:"Very Low"}]})),e.appendChild(S({type:"select",id:"task-project",name:"task-project",classList:["form-select"],label:a("Project"),container:r,menuItems:[{value:"none",label:"None"}]})),e.appendChild(S({type:"textarea",id:"task-description",name:"task-description",classList:["form-textarea"],label:a("Description"),container:r,size:{rows:4,cols:20}})),n.controls={name:e.querySelector("#task-name"),dueDate:e.querySelector("#task-due-date"),recurringDate:e.querySelector("#task-recurring-date"),priority:e.querySelector("#task-priority"),project:e.querySelector("#task-project"),description:e.querySelector("#task-description")},function(e){_n(e);const t=Fn.get(e),{controls:n}=t;let r=null;if(t.taskId&&(r=t.tasks.getTask(t.taskId)),r?.name&&(n.name.value=r.name),r?.dueDate&&(n.dueDate.value=en(r.dueDate,t.dateFormat.outputPattern)),r?.recurringDate){let e;if(r.recurringDate.isDefault())switch(r.recurringDate.intervalUnit){case"day":e="daily";break;case"week":e="weekly";break;case"month":e="monthly";break;case"year":e="annually";break;default:e="custom"}else e="custom";n.recurringDate.value=e,"custom"===e&&(t.customRecurrence=r.recurringDate)}r?.priorityString&&"unknown"!==r.priorityString?n.priority.value=r.priorityString:n.priority.value=In.convertPriorityToString(t.priority);let{projectId:a}=t;r?.project&&(a=r.project),a&&(n.project.value=a),r?.description&&(n.description.value=r.description)}(this),function(e,t){const n=Fn.get(e),{controls:r,dateFormat:a}=n,{recurringDate:o}=r;let i=o.value;const s=e=>{n.customRecurrence=e;let t="custom-result";if(e.isDefault())switch(e.intervalUnit){case"day":t="daily";break;case"week":t="weekly";break;case"month":t="monthly";break;case"year":t="annually"}let r=o.querySelector('option[value="custom-result"]');if(r&&"custom-result"!==t)o.removeChild(r);else if("custom-result"===t){r||(r=document.createElement("option"),r.value="custom-result",o.insertBefore(r,o.lastChild));const t=a.outputPattern;r.textContent=e.toStringVerbose(t)}o.value=t,i=t};n.customRecurrence&&s(n.customRecurrence);const c=()=>{o.value=i};o.addEventListener("change",(e=>{if("custom"===e.target.value){const e=r.dueDate;let o=null;e.value&&(o=nn(e.value,a.inputPatterns));const i=new Pn({confirm:s,cancel:c,initial:n.customRecurrence,baseDate:o,dateFormat:a});t.showModal(i)}else i=e.target.value}));let l=r.project.value;r.project.addEventListener("change",(a=>{if("new"===a.target.value){const a=new N({confirm:t=>{const a=n.projects.addProject(t);_n(e),r.project.value=a,l=a,n.callbacks.newProject&&n.callbacks.newProject(a)},cancel:()=>{r.project.value=l}});t.showModal(a)}else l=a.target.value})),r.dueDate.addEventListener("change",(e=>{const{value:t}=e.target;if(t.length>0){let n="";nn(t,a.inputPatterns)||(n=`Please enter a valid date in ${a.visualPattern} format.`),e.target.setCustomValidity(n)}}))}(this,t)}confirm(){const e=Fn.get(this),{controls:t,dateFormat:n}=e;let r=null;t.dueDate.value&&(r=nn(t.dueDate.value,n.inputPatterns));let a=null,o=null;if(e.taskId){const t=e.tasks.getTask(e.taskId);a=t.creationDate,o=t.completionDate}let i=null;switch(t.recurringDate.value){case"daily":i=new pn("day");break;case"weekly":i=new pn("week");break;case"monthly":i=new pn("month");break;case"annually":i=new pn("year");break;case"custom-result":i=e.customRecurrence}let s=null;switch(t.project.value){case"none":case"new":break;default:s=t.project.value}const c=new In(t.name.value,{dueDate:r,creationDate:a,completionDate:o,priority:t.priority.value,description:t.description.value||null,recurringDate:i,project:s});let l;e.taskId?(l=e.taskId,e.tasks.updateTask(l,c)):l=e.tasks.addTask(c),e.callbacks.confirm&&e.callbacks.confirm(l)}cancel(){const{callbacks:e}=Fn.get(this);e.cancel&&e.cancel()}validate(){const{controls:e}=Fn.get(this);return!!e.name.reportValidity()&&!!e.dueDate.reportValidity()}};const $n=new WeakMap;var Wn=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={title:t.title??"Confirm",message:e,confirmLabel:t.confirmLabel||"Yes",cancelLabel:t.cancelLabel||"No",initFocus:t.initFocus||"cancel",confirmBox:null,callbacks:{confirm:t.confirm||null,cancel:t.cancel||null},controls:{confirmBox:null}},{confirmBox:r}=t;t.confirmBox&&(n.confirmBox={value:r.value||"confirm",label:r.label||`Please enter '${r.value}':`,errorMessage:r.errorMessage||`Please enter '${r.value}'.`}),$n.set(this,n)}get title(){return $n.get(this).title}get confirmLabel(){return $n.get(this).confirmLabel}get cancelLabel(){return $n.get(this).cancelLabel}get initFocus(){const e=$n.get(this);return"confirm-box"===e.initFocus?e.controls.confirmBox||"none":e.initFocus}addContent(e){const t=$n.get(this),{message:n,confirmBox:r}=t;let a=document.createElement("p");a.classList.add("form-input-label-inline"),a.textContent=n,e.appendChild(a),r&&(a=document.createElement("p"),a.classList.add("form-input-label-inline"),a.textContent=" ",e.appendChild(a),e.appendChild(S({type:"text",id:"confirmation-box",name:"confirmation-box",classList:["form-input","confirmation-box"],required:!0,placeholder:r.value,label:{value:r.label,classList:["form-input-label-inline"]},container:{classList:["form-input-container"]}})),t.controls.confirmBox=e.querySelector("#confirmation-box")),function(e){const t=$n.get(e),{controls:n}=t;if(n.confirmBox){const{confirmBox:e}=t;n.confirmBox.value="",n.confirmBox.addEventListener("change",(t=>{const{value:n}=t.target;if(n.length>0){let r="";n!==e.value&&(r=e.errorMessage),t.target.setCustomValidity(r)}}))}}(this)}confirm(){const{confirm:e}=$n.get(this).callbacks;e&&e()}cancel(){const{cancel:e}=$n.get(this).callbacks;e&&e()}validate(){const{controls:e}=$n.get(this);return!(e.confirmBox&&!e.confirmBox.reportValidity())}};const Rn=new WeakMap;var Bn=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={callbacks:{confirm:e.confirm||null,cancel:e.cancel||null},controls:{exportJson:null,exportCsv:null,newlineSequence:null}};Rn.set(this,t)}get title(){return"Export Data"}get confirmLabel(){return"Export..."}addContent(e){const t=e=>({value:e,classList:["form-input-label-inline"]}),n=document.createElement("div");n.classList.add("form-input-container");const r=document.createElement("div");r.classList.add("form-input-label"),r.textContent="File Format",n.appendChild(r),n.appendChild(S({type:"radio",id:"export-format-json",name:"export-format",value:"json",checked:!0,label:t("Export all data to JSON format"),container:{classList:["form-input-item-container"]}})),n.appendChild(S({type:"radio",id:"export-format-csv",name:"export-format",value:"csv",label:t("Export tasks to CSV format"),container:{classList:["form-input-item-container"]}})),e.appendChild(n),e.appendChild(S({type:"select",id:"export-line-ending",name:"export-line-ending",classList:["form-select"],label:{value:"Line Ending Style",classList:["form-input-label"]},container:{classList:["form-input-container"]},menuItems:[{value:"crlf",label:"Windows Standard: CRLF",selected:!0},{value:"lf",label:"Unix Standard: LF"},{value:"cr",label:"Classic Mac OS Standard (Before OS X): CR"}]}));const{controls:a}=Rn.get(this);a.exportJson=e.querySelector("#export-format-json"),a.exportCsv=e.querySelector("#export-format-csv"),a.newlineSequence=e.querySelector("#export-line-ending")}confirm(){const{callbacks:e,controls:t}=Rn.get(this);if(e.confirm){const n=t.exportJson.checked?"json":"csv";let r;switch(t.newlineSequence.value){case"lf":r="\n";break;case"cr":r="\r";break;default:r="\r\n"}e.confirm(n,{newlineSequence:r})}}cancel(){const e=Rn.get(this).callbacks.cancel;e&&e()}validate(){return!0}};n(4979);let qn=null;function Yn(){if(null!==qn)return qn;let e;try{e=window.localStorage;const t="__storage-test";e.setItem(t,t),e.removeItem(t),qn=!0}catch(t){qn=t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}return qn}function Un(e,t,n){if(!Yn())return!1;const r=e?`${e}.${t}`:t;try{return window.localStorage.setItem(r,JSON.stringify(n)),!0}catch{return!1}}function zn(e,t){if(!Yn())return null;const n=e?`${e}.${t}`:t;try{return JSON.parse(window.localStorage.getItem(n))}catch{return null}}function Hn(e,t){return!!Yn()&&(window.localStorage.removeItem(e?`${e}.${t}`:t),!0)}function Gn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Yn()){const r=window.localStorage;for(let a=0;a<r.length;a+=1){const o=r.key(a);if(!e||o.startsWith(`${e}.`)){const r=e&&!n.includePrefix?o.substring(e.length+1):o,i=n.noValue?null:zn(null,o);i?t(r,i,a):t(r,a)}}}}function Vn(e,t){const n=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=t,a.click(),setTimeout((()=>URL.revokeObjectURL(r)),0)}function Qn(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).newlineSequence??"\r\n",n=[];return e.forEach((e=>{let r=!1;const a=e.replace(/,|"|\r\n|\n|\r/g,(e=>{switch(r=!0,e){case'"':return'""';case"\r\n":case"\n":return t;default:return e}}));n.push(r?`"${a}"`:a)})),n.join(",")}const Jn=new WeakMap;function Xn(e,t){const{controls:n}=Jn.get(e);n.importButton.addEventListener("click",(()=>{n.fileSelector.click()})),n.exportButton.addEventListener("click",(()=>{const n=new Bn({confirm:(n,r)=>{!function(e,t,n,r){setTimeout((()=>{t.closeModal();const a=Jn.get(e).callbacks.exportData;a&&a(n,r)}))}(e,t,n,r)}});t.showModal(n)})),n.deleteButton.addEventListener("click",(()=>{const n=new Wn("Are you sure you want to delete all user data? This will erase all tasks and projects, and will also reset app settings.",{initFocus:"confirm-box",confirmBox:{value:"delete",label:"This action cannot be undone. Please confirm your intention by typing the word 'delete' (without quotes) in the box:",errorMessage:"Please enter the word 'delete'."},confirm:()=>function(e,t){const n=Jn.get(e).callbacks.deleteAll;n&&n(),setTimeout((()=>t.closeModal()))}(e,t)});t.showModal(n)})),n.fileSelector.addEventListener("change",(n=>{const{files:r}=n.target;r.length>0&&function(e,t,n){!function(e,t){const n=new FileReader;n.addEventListener("load",(()=>t(n.result))),n.addEventListener("error",(()=>t(null))),n.addEventListener("abort",(()=>t(null))),n.readAsText(e)}(n,(r=>{if(r){t.closeModal();const a=Jn.get(e).callbacks.importData;a&&a(r,{name:n.name,size:n.size,type:n.type||null})}}))}(e,t,r[0])}))}var Zn=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={callbacks:{importData:e.importData||null,exportData:e.exportData||null,deleteAll:e.deleteAll||null,close:e.close||null},controls:{fileSelector:null,importButton:null,exportButton:null,deleteButton:null}};Jn.set(this,t)}get title(){return"Manage Data"}get confirmLabel(){return"Close"}get noCancelButton(){return!0}get initFocus(){return"confirm"}addContent(e,t){const n=()=>{const t=document.createElement("div");return t.classList.add("form-input-container"),e.appendChild(t),t},r=(e,t)=>{const n=document.createElement("div");n.classList.add("form-input-label"),n.textContent=e,t.appendChild(n)},a=(e,t)=>{const n=document.createElement("button");return n.classList.add("form-button"),n.textContent=e,t.appendChild(n),n},{controls:o}=Jn.get(this);let i=n();r("Import/Export",i);const s=document.createElement("div");s.classList.add("form-button-container"),i.appendChild(s),o.importButton=a("Import from File...",s),o.exportButton=a("Export to File...",s),i=n(),r("Delete Data",i),o.deleteButton=a("Erase All Data...",i),o.fileSelector=S({type:"file",id:"data-import-file-select",name:"data-import-file-select",classList:["form-input-hidden"],accept:[".json",".csv","application/json","text/csv"]}),Xn(this,t)}confirm(){this.cancel()}cancel(){const{close:e}=Jn.get(this).callbacks;e&&e()}validate(){return!0}},Kn=n.p+"4960b56f69ee6a33e2df.svg";const er=["a[href]","input","select","textarea","button"].join(", "),tr=new WeakMap;var nr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=document.createElement("div");n.id&&(r.id=n.id),r.classList.add("collapsible"),n.classList&&r.classList.add(...n.classList);const a=document.createElement("div");a.classList.add("collapsible-content"),r.appendChild(a),e.insertBefore(r,t);const o={container:r,content:a,collapsed:!1};tr.set(this,o),"collapsed"in n&&n.collapsed?this.collapse():this.expand()}get collapsed(){return tr.get(this).collapsed}set collapsed(e){e?this.collapse():this.expand()}get content(){return tr.get(this).content}expand(){const e=tr.get(this);e.collapsed&&(e.collapsed=!1,e.container.classList.remove("collapsed"),e.container.removeAttribute("aria-hidden"),e.container.querySelectorAll(er).forEach((e=>{e.removeAttribute("tabindex")})),this.update())}collapse(){const e=tr.get(this);e.collapsed||(e.collapsed=!0,e.container.classList.add("collapsed"),e.container.setAttribute("aria-hidden","true"),e.container.querySelectorAll(er).forEach((e=>{e.setAttribute("tabindex","-1")})),this.update())}toggle(){const e=tr.get(this);return e.collapsed?this.expand():this.collapse(),e.collapsed}update(){const e=tr.get(this),t=e.collapsed?"0":`${e.content.offsetHeight}px`;e.container.style.height=t}};const rr=new WeakMap;function ar(e,t){const n=rr.get(e).groupElements.get(t);if(!n)throw new RangeError(`Cannot locate filter group "${t}"`);return n}function or(e,t,n){const r=ar(e,t).filterItems.get(n);if(!r)throw new RangeError(`Cannot locate filter "${n}" in group "${t}"`);return r}function ir(e,t,n){const r=or(e,t,n).querySelector(".filter-item-count");if(null==r)throw new DOMException(`Cannot locate item count DOM element for filter "${n}" in group "${t}"`,"InvalidStateError");return r}function sr(e){const t=rr.get(e);t.selectedFilter.group&&t.selectedFilter.filter&&or(e,t.selectedFilter.group,t.selectedFilter.filter).classList.remove("selected"),t.selectedFilter.group=null,t.selectedFilter.filter=null}var cr=class{constructor(e,t){const n={container:null,selectedFilter:{group:null,filter:null},groupElements:new Map,eventEmitter:new(gn())};rr.set(this,n),n.container=document.createElement("div"),n.container.classList.add("filter-menu"),t&&t.forEach((e=>this.addGroup(e.id,e.label))),e.appendChild(n.container)}addGroup(e,t){const n=rr.get(this),r=document.createElement("div");r.classList.add("filter-group"),r.dataset.groupId=e;let a,o,i=null,s=null;if(t){const e=document.createElement("div");e.classList.add("filter-group-heading"),r.appendChild(e),i=document.createElement("button"),i.classList.add("filter-group-toggle"),e.appendChild(i);const n=document.createElement("div");n.classList.add("icon-container"),e.appendChild(n),s=new Image,s.src=Y,s.alt="Expand",s.width=24,s.height=24,s.classList.add("filter-group-expand-icon"),i.appendChild(s);const a=document.createElement("span");a.classList.add("filter-group-label"),a.textContent=t,i.appendChild(a)}t?(a=new nr(r,null,{collapsed:!0}),o=a.content):(a=null,o=r);const c=document.createElement("ul");c.classList.add("filter-list"),o.appendChild(c),n.groupElements.set(e,{container:r,expandIcon:s,collapsible:a,filterList:c,filterItems:new Map}),i&&i.addEventListener("click",(()=>this.toggleGroup(e))),n.container.appendChild(r)}addFilter(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=ar(this,e),o=document.createElement("li");o.classList.add("filter-item"),o.dataset.filterId=t,o.dataset.filterLabel=n;const i=document.createElement("button");i.classList.add("filter-item-selector"),o.appendChild(i);const s=document.createElement("span");s.classList.add("filter-item-label"),s.textContent=n,i.appendChild(s);const c=document.createElement("span");c.classList.add("filter-item-count"),c.textContent=r.count||"",i.appendChild(c);let l=null;r.insertBefore&&(l=or(this,e,r.insertBefore)),a.filterList.insertBefore(o,l),a.filterItems.set(t,o),a.collapsible?.update(),i.addEventListener("click",(()=>{this.selectFilter(e,t)}))}removeFilter(e,t){const n=rr.get(this);n.selectedFilter.group===e&&n.selectedFilter.filter===t&&this.clearSelection();const r=ar(this,e),a=or(this,e,t);r.filterList.removeChild(a),r.filterItems.delete(t),r.collapsible?.update()}removeAllFilters(e){rr.get(this).selectedFilter.group===e&&this.clearSelection();const t=ar(this,e),n=t.filterList;t.filterItems.forEach((e=>n.removeChild(e))),t.filterItems.clear(),t.collapsible?.update()}hasFilter(e,t){const n=rr.get(this).groupElements.get(e);return!!n&&n.filterItems.has(t)}filters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{groupElements:t}=rr.get(this),n=[],r=r=>{if(!t.has(r))throw new RangeError(`Cannot locate filter group "${e}"`);t.get(r).filterItems.forEach(((e,t)=>{n.push({group:r,filter:t})}))};return null!=e?r(e):t.forEach(((e,t)=>r(t))),n}expandGroup(e){const t=ar(this,e),{collapsible:n,expandIcon:r}=t;n&&(n.expand(),r.src=Kn,r.alt="Collapse")}collapseGroup(e){const t=ar(this,e),{collapsible:n,expandIcon:r}=t;n&&(n.collapse(),r.src=Y,r.alt="Expand")}toggleGroup(e){const t=ar(this,e),{collapsible:n}=t;n&&(n.collapsed?this.expandGroup(e):this.collapseGroup(e))}addGroupIconButton(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{container:r}=ar(this,e),a=r.querySelector(".icon-container"),o=T(t,n);return a.appendChild(o),o}getItemCount(e,t){const n=ir(this,e,t),r=Number.parseInt(n.textContent,10);return Number.isNaN(r)?0:r}setItemCount(e,t,n){ir(this,e,t).textContent=n.toString()}selectFilter(e,t){const n=rr.get(this);sr(this),this.expandGroup(e);const r=or(this,e,t);r.classList.add("selected"),n.selectedFilter.group=e,n.selectedFilter.filter=t;const{filterLabel:a}=r.dataset;n.eventEmitter.emit("select-filter",{type:"select-filter",target:this,groupId:e,filterId:t,filterLabel:a})}clearSelection(){sr(this),rr.get(this).eventEmitter.emit("select-filter",{type:"select-filter",target:this,groupId:null,filterId:null,filterLabel:null})}getSelection(){return hn()(rr.get(this).selectedFilter)}addEventListener(e,t){rr.get(this).eventEmitter.on(e,t)}};const lr=new WeakMap;var ur=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={title:t.title??"Alert",confirmLabel:t.confirmLabel||"Okay",content:null,callbacks:{close:t.close||null}};if(e instanceof Node)n.content=e;else{const t=document.createElement("div");t.classList.add("info-modal-content-container"),(Array.isArray(e)?e:[e]).forEach((e=>{const n=document.createElement("p");n.classList.add("info-modal-content-paragraph"),n.textContent=e,t.appendChild(n)})),n.content=t}lr.set(this,n)}get title(){return lr.get(this).title}get confirmLabel(){return lr.get(this).confirmLabel}get noCancelButton(){return!0}get initFocus(){return"confirm"}addContent(e){e.appendChild(lr.get(this).content)}confirm(){const e=lr.get(this).callbacks.close;e&&e()}cancel(){this.confirm()}validate(){return!0}},dr=n.p+"a8412e4938d2a0e05e27.svg";const pr=["a[href]","input","select","textarea","button"].join(", "),fr=500,hr=100,mr=new WeakMap;function gr(e){return fr+(e-1)*hr}function yr(e){const t=mr.get(e),n=t.modals.length;if(n>0){const e=gr(n)-50;t.overlay.style.zIndex=e.toString(),t.overlay.classList.remove("closed")}else t.overlay.classList.add("closed")}var vr=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=document.createElement("div");n.classList.add("modal-overlay","closed"),e.appendChild(n);const r={overlay:n,parent:e,background:t||null,modals:[]};mr.set(this,r),document.addEventListener("keydown",(e=>{r.modals.length>0&&("Escape"===e.key||"Esc"===e.key)&&(this.cancelModal(),e.preventDefault())}))}showModal(e){const t=mr.get(this),n=document.activeElement;n&&n.blur();const r=document.createElement("div");r.classList.add("modal-wrapper"),r.style.zIndex=gr(t.modals.length+1);const a=document.createElement("div");a.classList.add("modal"),r.appendChild(a);const o=document.createElement("div");o.classList.add("modal-title-bar"),a.appendChild(o);const i=document.createElement("div");i.classList.add("modal-title"),i.textContent=e.title,o.appendChild(i);const s=T(dr,{altText:"Close",width:24,height:24,callback:()=>this.cancelModal()});o.appendChild(s);const c=document.createElement("div");c.classList.add("modal-content"),e.addContent(c,this),a.appendChild(c);const l=document.createElement("div");l.classList.add("modal-button-container"),a.appendChild(l);let u=null;e.noCancelButton||(u=document.createElement("button"),u.classList.add("modal-button"),u.textContent=e.cancelLabel||"Cancel",u.addEventListener("click",(()=>this.cancelModal())),l.appendChild(u));const d=document.createElement("button");d.classList.add("modal-button","modal-okay"),d.textContent=e.confirmLabel||"Okay",d.addEventListener("click",(()=>this.confirmModal())),l.appendChild(d);const p={modal:e,wrapper:r,container:a,content:c,oldActive:n,oldTabIndex:[]};if(t.modals.push(p),t.parent.appendChild(r),function(e){const t=mr.get(e);let n=null;if(n=t.modals.length<=1?t.background:t.modals[t.modals.length-2].wrapper,n){n.setAttribute("aria-hidden","true");const{oldTabIndex:e}=t.modals[t.modals.length-1];n.querySelectorAll(pr).forEach((t=>{const n=t.hasAttribute("tabindex")?t.tabIndex:null;e.push({element:t,tabIndex:n}),t.setAttribute("tabindex","-1")}))}yr(e)}(this),"string"==typeof e.initFocus)switch(e.initFocus){case"confirm":d.focus();break;case"cancel":u&&u.focus()}else e.initFocus?e.initFocus.focus():d.focus()}closeModal(){const e=mr.get(this),t=e.modals.pop();t&&(e.parent.removeChild(t.wrapper),function(e,t){const n=mr.get(e);let r=null;r=0===n.modals.length?n.background:n.modals[n.modals.length-1].wrapper,r&&(r.removeAttribute("aria-hidden"),t.forEach((e=>{const{element:t,tabIndex:n}=e;null!==n?t.tabIndex=n:t.removeAttribute("tabindex")}))),yr(e)}(this,t.oldTabIndex),t.oldActive&&t.oldActive.focus())}confirmModal(){const e=mr.get(this);if(0===e.modals.length)return!1;const{modal:t}=e.modals[e.modals.length-1];return!!t.validate()&&(t.confirm(),this.closeModal(),!0)}cancelModal(){const e=mr.get(this);return 0!==e.modals.length&&(e.modals[e.modals.length-1].modal.cancel(),this.closeModal(),!0)}};const br=new WeakMap;function wr(e,t){const n=br.get(e);n.callback(n.menuItems[t].id,t),e.close()}function kr(e,t){const n=`.popup-menu-item[data-index="${t}"]`;return br.get(e).container.querySelector(n)}function xr(e,t){const n=br.get(e);if(t!==n.activeItem){if(null!==n.activeItem){const t=kr(e,n.activeItem);t&&t.classList.remove("active"),n.activeItem=null}if("number"==typeof t){const r=kr(e,t);r&&(n.activeItem=t,r.classList.add("active"))}}}function Er(e,t){const n=br.get(e),r=n.activeItem,a=n.menuItems;let o=r;null===o&&(o=t>0?-1:a.length);for(let e=0;e<a.length&&(o+=t,o<0&&(o=a.length-1),o>=a.length&&(o=0),"separator"===a[o]);e+=1);a.length>0&&xr(e,o)}var Dr,Cr=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={parent:e.parent||document.body,menuItems:e.menuItems||[],activeItem:null,container:null,overlay:null,callback:null,eventListener:e=>function(e,t){const n=br.get(e);switch(t.type){case"mousedown":n.container.contains(t.target)||e.close();break;case"keydown":{let r=!0;switch(t.key){case"Escape":case"Esc":case"Tab":e.close();break;case"Enter":case" ":case"Spacebar":null!==n.activeItem&&wr(e,n.activeItem);break;case"ArrowUp":case"Up":Er(e,-1);break;case"ArrowDown":case"Down":Er(e,1);break;default:r=!1}r&&t.preventDefault();break}case"scroll":n.scrollTimeout&&clearTimeout(n.scrollTimeout),n.scrollTimeout=setTimeout((()=>{n.scrollTimeout=null,t.target.contains(n.scrollTarget)&&e.close()}),100)}}(this,e),scrollTimeout:null,scrollTarget:e.closeIfScrolled||null};br.set(this,t)}isOpen(){return null!==br.get(this).container}open(e,t){const n=br.get(this);if(n.container&&this.close(),0===n.menuItems.length)return;const r=document.createElement("div");r.classList.add("popup-menu-overlay"),n.parent.appendChild(r),n.overlay=r;const a=document.createElement("div");a.classList.add("popup-menu");const o=document.createElement("ul");a.appendChild(o),n.menuItems.forEach(((e,t)=>{const n=document.createElement("li");if(n.dataset.index=t.toString(),o.appendChild(n),"separator"===e.type?n.classList.add("popup-menu-separator"):n.classList.add("popup-menu-item"),"separator"!==e.type){if(e.icon){const t=new Image;t.src=e.icon.source,t.alt="",t.classList.add("popup-menu-item-icon"),null!=e.icon.width&&(t.width=e.icon.width),null!=e.icon.height&&(t.height=e.icon.height),n.appendChild(t)}const r=document.createElement("div");r.classList.add("popup-menu-item-label"),r.textContent=e.label,n.appendChild(r),e.checked&&n.classList.add("checked"),n.addEventListener("click",(()=>wr(this,t))),n.addEventListener("mousemove",(()=>xr(this,t)))}})),a.addEventListener("mouseleave",(()=>xr(this,null))),n.container=a,n.parent.appendChild(a),n.callback=e,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{container:n}=br.get(e),r=n.offsetWidth,a=n.offsetHeight;let o=0,i=0;if(t.referenceElement){const e=t.referenceElement.getBoundingClientRect();o=e.left,i=e.top+e.height}else"left"in t&&(o=t.left),"top"in t&&(i=t.top);const s=document.body.offsetWidth,c=document.body.offsetHeight;o+r+4>s&&(o=s-(r+4)),i+a+4>c&&(i=c-(a+4)),o<0&&(o=0),i<0&&(i=0),n.style.left=`${o}px`,n.style.top=`${i}px`}(this,t),document.addEventListener("mousedown",n.eventListener),document.addEventListener("keydown",n.eventListener),n.scrollTarget&&document.addEventListener("scroll",n.eventListener,!0)}close(){const e=br.get(this);e.container&&(e.parent.removeChild(e.container),e.parent.removeChild(e.overlay),e.activeItem=null,e.container=null,e.overlay=null,e.callback=null,document.removeEventListener("mousedown",e.eventListener),document.removeEventListener("keydown",e.eventListener),e.scrollTarget&&document.removeEventListener("scroll",e.eventListener,!0))}toggle(e,t){this.isOpen()?this.close():this.open(e,t)}setMenuItems(e){br.get(this).menuItems=e}},Lr=n(9063),jr=n.n(Lr),Mr=n(2193),Sr=n.n(Mr),Or=n(1298),Tr=n.n(Or),Pr={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},Nr=new Uint8Array(16);function Ir(){if(!Dr&&!(Dr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dr(Nr)}for(var Fr=[],_r=0;_r<256;++_r)Fr.push((_r+256).toString(16).slice(1));var Ar=function(e,t,n){if(Pr.randomUUID&&!t&&!e)return Pr.randomUUID();var r=(e=e||{}).random||(e.rng||Ir)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return function(e,t=0){return(Fr[e[t+0]]+Fr[e[t+1]]+Fr[e[t+2]]+Fr[e[t+3]]+"-"+Fr[e[t+4]]+Fr[e[t+5]]+"-"+Fr[e[t+6]]+Fr[e[t+7]]+"-"+Fr[e[t+8]]+Fr[e[t+9]]+"-"+Fr[e[t+10]]+Fr[e[t+11]]+Fr[e[t+12]]+Fr[e[t+13]]+Fr[e[t+14]]+Fr[e[t+15]]).toLowerCase()}(r)};const $r=new WeakMap;function Wr(e,t){return $r.get(e).projects.findIndex((e=>e.id===t))}var Rr=class{constructor(){const e={projects:[],eventEmitter:new(gn())};$r.set(this,e)}getProject(e){const t=Wr(this,e);if(!(t<0))return hn()($r.get(this).projects[t].project)}updateProject(e,t){const n=Wr(this,e);if(n<0)return!1;const r=$r.get(this),a=r.projects[n],o=t.name!==a.project.name;if(a.project=hn()(t),o){r.projects.splice(n,1);const e=Tr()(r.projects,a,(e=>e.project.name.toLowerCase()));r.projects.splice(e,0,a)}return r.eventEmitter.emit("update-project",{type:"update-project",id:e,project:hn()(t)}),!0}addOrUpdateProject(e,t){if(!En(e))return!1;if(!this.updateProject(e,t)){const n=$r.get(this),r={id:e,project:hn()(t)},a=Tr()(n.projects,r,(e=>e.project.name.toLowerCase()));n.projects.splice(a,0,r),n.eventEmitter.emit("add-project",{type:"add-project",id:e,project:hn()(t)})}return!0}addProject(e){let t;do{t=Ar()}while(this.hasProject(t));return this.addOrUpdateProject(t,e),t}deleteProject(e){const t=Wr(this,e);if(t<0)return!1;const n=$r.get(this),{project:r}=n.projects[t];return n.projects.splice(t,1),n.eventEmitter.emit("delete-project",{type:"delete-project",id:e,project:r}),!0}deleteAll(){const e=$r.get(this),t=[...e.projects];e.projects.length=0,t.forEach((t=>{let{id:n,project:r}=t;e.eventEmitter.emit("delete-project",{type:"delete-project",id:n,project:r})}))}hasProject(e){return Wr(this,e)>=0}forEach(e){$r.get(this).projects.forEach(((t,n)=>{const r=hn()(t);e(r,n)}))}addEventListener(e,t){$r.get(this).eventEmitter.on(e,t)}toJSON(){const e=[];return $r.get(this).projects.forEach((t=>{let{id:n,project:r}=t;e.push({name:r.name,id:n,description:r.description})})),e}importFromJson(e){const t={added:0,updated:0,failed:0,total:0},n=[];return Array.isArray(e)?(e.forEach((e=>{let{name:r,id:a,description:o}=e;const i=(e,t,a)=>{if(null==t)return;const o=`Warning: Project "${r}"`;let i;switch(e){case"bad-type":i=`Expected type "${a.expectedType}" for property "${a.valueName}" (received "${xn(t)}").`;break;case"bad-id":i=`Expected a version 4 UUID for property "${a.valueName}" (received "${t}").`;break;default:i=`Encountered unrecognized error "${e}" for property "${a.valueName}".`}n.push(`${o}: ${i}`)};if(null==r)n.push("Error: Project must have a name."),t.failed+=1;else if("string"!=typeof r)n.push(`Error: Expected type "string" for project name (received "${xn(r)}").`),t.failed+=1;else if(0===r.length)n.push("Error: Project name must not be empty."),t.failed+=1;else{const e={};Dn(o,{valueName:"description",expectedType:"string",errorCallback:i})&&(e.description=o);let n=null;Dn(a,{valueName:"id",expectedType:"string",requireUuid:!0,errorCallback:i})&&(n=a),n&&this.hasProject(n)?t.updated+=1:t.added+=1;const s=new M(r,e);n?this.addOrUpdateProject(n,s):this.addProject(s)}})),t.total=t.added+t.updated+t.failed,{projects:t,errors:n}):(n.push('Error: Expected "projects" property to be an array.'),{projects:t,errors:n})}importFromCsv(e){const t=[];e.length>0&&e[0].forEach(((e,n)=>{switch(e.toLowerCase()){case"project name":case"project-name":t.push({name:"name",index:n});break;case"project uuid":case"project-uuid":t.push({name:"id",index:n});break;case"project description":case"project-description":t.push({name:"description",index:n})}}));const n=[];return t.length>0&&e.forEach(((e,r)=>{if(0===r)return;const a={};t.forEach((t=>{let{name:n,index:r}=t;e.length>r&&e[r].length>0&&(a[n]=e[r])})),Sr()(a)||n.push(a)})),this.importFromJson(jr()(n,((e,t)=>null!=e.id||null!=t.id?e.id===t.id:e.name===t.name&&e.description===t.description)))}};const Br=new WeakMap;var qr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={settings:e,modalStack:null,confirmNoStorage:!0,callbacks:{confirm:t.confirm||null,cancel:t.cancel||null},controls:{saveLocal:null,saveNever:null,dateFormat:null,deleteOld:null,deleteAfter:null,deleteAfterLabel:null}};Br.set(this,n)}get title(){return"Edit Settings"}addContent(e,t){let n=document.createElement("div");n.classList.add("form-input-container");let r=document.createElement("div");r.classList.add("form-input-label"),r.textContent="Data Storage",n.appendChild(r),n.appendChild(S({type:"radio",id:"settings-save-local",name:"settings-save-method",value:"local",label:{value:"Save data in browser's local storage area",classList:["form-input-label-inline"]},container:{classList:["form-input-item-container"]}})),n.appendChild(S({type:"radio",id:"settings-save-never",name:"settings-save-method",value:"never",label:{value:"Do not save data",classList:["form-input-label-inline"]},container:{classList:["form-input-item-container"]}})),e.appendChild(n);const a=["local","iso","month-day-year","day-month-year","year-month-day"].map((e=>{const t=jn.lookupDateFormat(e).visualPattern;let n;switch(e){case"local":n="Local Format";break;case"iso":n="ISO";break;case"month-day-year":n="Month/Day/Year";break;case"day-month-year":n="Day/Month/Year";break;case"year-month-day":n="Year/Month/Day"}return{value:e,label:`${n}: ${t}`}}));e.appendChild(S({type:"select",id:"settings-date-format",name:"settings-date-format",classList:["form-select"],label:{value:"Date Format",classList:["form-input-label"]},container:{classList:["form-input-container"]},menuItems:a})),n=document.createElement("div"),n.classList.add("form-input-container"),r=document.createElement("div"),r.classList.add("form-input-label"),r.textContent="Additional Options",n.appendChild(r);const o=document.createElement("div");o.classList.add("form-input-item-container"),o.appendChild(S({type:"checkbox",id:"settings-delete-old-tasks",name:"settings-delete-tasks",value:"delete-old"})),r=document.createElement("label"),r.classList.add("form-input-label-inline"),r.htmlFor="settings-delete-old-tasks",r.textContent="Delete completed tasks after ",o.appendChild(r),o.appendChild(S({type:"number",id:"settings-delete-after",name:"settings-delete-after",value:"14",classList:["form-input-inline","form-input-count"],required:!0,min:0})),r=document.createElement("label"),r.id="settings-delete-after-label",r.classList.add("form-input-label-inline"),r.htmlFor="settings-delete-after",r.textContent=" days",o.appendChild(r),n.appendChild(o),e.appendChild(n);const i=Br.get(this);i.modalStack=t;const{controls:s}=i;s.saveLocal=e.querySelector("#settings-save-local"),s.saveNever=e.querySelector("#settings-save-never"),s.dateFormat=e.querySelector("#settings-date-format"),s.deleteOld=e.querySelector("#settings-delete-old-tasks"),s.deleteAfter=e.querySelector("#settings-delete-after"),s.deleteAfterLabel=e.querySelector("#settings-delete-after-label"),function(e){const t=Br.get(e),{controls:n,settings:r}=t;"none"===r.storageMethod?(t.confirmNoStorage=!1,n.saveNever.checked=!0):(t.confirmNoStorage=!0,n.saveLocal.checked=!0),n.dateFormat.value=r.dateFormat.type;const a=null!==r.deleteAfter;n.deleteOld.checked=a,a&&(n.deleteAfter.value=r.deleteAfter.toString()),Yn()||(n.saveNever.disabled=!0,n.saveLocal.disabled=!0)}(this),function(e){const{controls:t}=Br.get(e),n=e=>e.dispatchEvent(new Event("change"));t.deleteOld.addEventListener("change",(e=>{t.deleteAfter.disabled=!e.target.checked})),n(t.deleteOld),t.deleteAfter.addEventListener("change",(e=>{const n=Number(e.target.value);if(e.target.value.length>0&&Number.isFinite(n)){const e=1===n?" day":" days";t.deleteAfterLabel.textContent=e}})),n(t.deleteAfter)}(this)}confirm(){const{callbacks:e,controls:t,settings:n}=Br.get(this);t.saveLocal.disabled||(n.storageMethod=t.saveLocal.checked?"local":"none"),n.setDateFormat(t.dateFormat.value),t.deleteOld.checked?n.deleteAfter=Number(t.deleteAfter.value):n.deleteAfter=null,e.confirm&&e.confirm(n)}cancel(){const{callbacks:e}=Br.get(this);e.cancel&&e.cancel()}validate(){const e=Br.get(this),{controls:t,modalStack:n}=e;if(t.deleteOld.checked&&!t.deleteAfter.reportValidity())return!1;if(e.confirmNoStorage&&!t.saveNever.disabled&&t.saveNever.checked){const r=new Wn("Are you sure you want to disable local storage? Your data will not be saved in the browser and will be lost after you leave this page.",{confirm:()=>{e.confirmNoStorage=!1,setTimeout((()=>n.confirmModal()))},cancel:()=>{t.saveLocal.checked=!0}});return n.showModal(r),!1}return!0}},Yr=n.p+"3007b932409686381cd8.svg",Ur=n.p+"745ff1e9be65b947eba0.svg",zr=n.p+"899b6f8c66e352af550a.svg",Hr=n.p+"53e45932c5a13573d9f3.svg";const Gr=24,Vr=24,Qr=[{label:"Edit Task...",id:"edit",icon:{source:v,width:Gr,height:Vr}},{label:"Clone Task",id:"clone",icon:{source:Ur,width:Gr,height:Vr}},{label:"Delete Task...",id:"delete",icon:{source:g,width:Gr,height:Vr}}],Jr=[{label:"Go To Project",id:"go-to-project",icon:{source:zr,width:Gr,height:Vr}}],Xr=new WeakMap;var Zr=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=document.createElement("div");a.classList.add("task-panel"),e.appendChild(a);const o=document.createElement("div");o.classList.add("task-panel-content"),a.appendChild(o);const i={container:a,content:o,tasks:t,projects:n,taskCallback:r.taskCallback||null,dateFormat:jn.lookupDateFormat("iso"),taskMenu:null};Xr.set(this,i),i.taskMenu=new Cr({closeIfScrolled:a})}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Xr.get(this);t.dateFormat=e.dateFormat??jn.lookupDateFormat(),Xr.get(this).content.innerHTML="";const n={projectList:t.projects,startDate:e.startDate||null,endDate:e.endDate||null,completed:e.completed??!1,requireDueDate:e.requireDueDate??!1,project:e.project||null};"number"==typeof e.priority&&(n.priority=e.priority);const r=e.groupBy||"none",a=e.groupDescending??!1,o=e.sortDescending??!1,i=e.caseSensitive??!1,s=e.missingLast??!1,l=(e,t)=>{n.sortBy||(n.sortBy=[]),n.sortBy.push({field:e,descending:t,caseSensitive:i,missingLast:s})};"none"!==r&&l(r,a),e.sortBy&&l(e.sortBy,o),"create-date"!==e.sortBy&&l("create-date",o);const u=t.tasks.entries(n);let d=null,f=null;if(u.forEach((e=>{let{task:t,id:n}=e;if(!f||!function(e,t,n){switch(e){case"due-date":return!t.dueDate&&!n.dueDate||!(!t.dueDate&&n.dueDate)&&!(t.dueDate&&!n.dueDate)&&W(t.dueDate,n.dueDate);case"priority":return t.priority===n.priority;case"project":return!((t.project||n.project)&&(!t.project&&n.project||t.project&&!n.project||t.project!==n.project));default:return!0}}(r,t,f)){const e=[],n=c(new Date);"due-date"===r&&!t.isComplete()&&p(t.dueDate,n)&&e.push("task-list-heading-past-due"),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=Xr.get(e);if(t){const e=document.createElement("h4");e.classList.add("task-list-heading",...n),e.textContent=t,r.content.appendChild(e)}const a=document.createElement("ul");return a.classList.add("task-list"),r.content.appendChild(a),a}(this,function(e,t,n){const r=Xr.get(e);switch(t){case"due-date":if(n.dueDate){const e=r.dateFormat.outputPattern;return en(n.dueDate,e)}return"No Due Date";case"priority":return`${In.convertPriorityToPrettyString(n.priority)} Priority`;case"project":return n.project?r.projects.getProject(n.project).name:"Uncategorized";default:return null}}(this,r,t),e)}!function(e,t,n,r){const a=Xr.get(e),o=document.createElement("li");o.classList.add("task-list-item"),t.appendChild(o);const i=T(r.isComplete()?Yr:Hr,{altText:r.isComplete()?"Mark as incomplete":"Mark as complete",width:Gr,height:Vr,classList:["task-list-item-checkbox"]});o.appendChild(i),a.taskCallback&&i.addEventListener("click",(()=>{const e=r.isComplete()?"mark-incomplete":"mark-complete";a.taskCallback(e,n,r)}));const s=document.createElement("div");s.classList.add("task-list-item-info-container"),o.appendChild(s);const l=document.createElement("div");if(l.classList.add("task-list-item-name"),l.textContent=r.name,s.appendChild(l),r.description){const e=document.createElement("div");e.classList.add("task-list-item-description"),e.textContent=r.description,s.appendChild(e)}const u=document.createElement("div");s.appendChild(u);const d=(e,t)=>{if(u.hasChildNodes()){const e=document.createElement("span");e.classList.add("task-list-item-details"),e.textContent=", ",u.appendChild(e)}const n=document.createElement("span");n.classList.add("task-list-item-details",...t),n.textContent=e,u.appendChild(n)};if(r.dueDate){const e=a.dateFormat.outputPattern,t=en(r.dueDate,e),n=["task-list-item-due-date"],o=c(new Date);!r.isComplete()&&p(r.dueDate,o)&&n.push("task-list-item-past-due"),d(t,n)}r.recurringDate&&d(r.recurringDate.toString(),["task-list-item-recurring-date"]),r.project&&d(a.projects.getProject(r.project).name,["task-list-item-project"]),d(`${In.convertPriorityToPrettyString(r.priority)} Priority`,["task-list-item-priority"]);const f=document.createElement("div");f.classList.add("icon-container"),o.appendChild(f);const h=T(v,{altText:"Edit task",width:Gr,height:Vr,callback:()=>{a.taskCallback&&a.taskCallback("edit",n,r)}});f.appendChild(h);const m=T(w,{altText:"More actions",width:Gr,height:Vr,callback:e=>{a.taskMenu.open((e=>{a.taskCallback&&a.taskCallback(e,n,r)}),{referenceElement:e.target})}});f.appendChild(m)}(this,d,n,t),f=t})),0===u.length){const e=document.createElement("div");e.classList.add("task-list-empty"),e.textContent="No Tasks Found",t.content.appendChild(e)}if(e.project)t.taskMenu.setMenuItems(Qr);else{const e=[...Jr,...Qr];t.taskMenu.setMenuItems(e)}!1!==e.resetScroll&&(t.container.scrollTop=0,t.container.scrollLeft=0)}},Kr=n(8515),ea=n.n(Kr),ta=n(9107),na=n.n(ta);const ra=new WeakMap;function aa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ra.get(e);let r="default";t.project?r="project":"number"==typeof t.priority?r="priority":(t.startDate||t.endDate)&&(r="due-date");let a=[];const o=e=>t.cloneTasks?hn()(e):e,i=(e,t)=>{const n=e.get(t);n&&n.forEach((e=>a.push(o(e))))};switch(r){case"due-date":{const e=[...n.tasksByDueDate.keys()];e.sort();let r=null,a=null;t.startDate&&(r=tn(t.startDate)),t.endDate&&(a=tn(t.endDate));let o=0,s=e.length;r&&(o=na()(e,r)),a?s=ea()(e,a):e.length>0&&"none"===e[e.length-1]&&(s-=1),e.slice(o,s).forEach((e=>{i(n.tasksByDueDate,e)})),i(n.tasksByDueDate,"none");break}case"priority":i(n.tasksByPriority,t.priority);break;case"project":i(n.tasksByProject,t.project);break;default:n.tasks.forEach(((e,t)=>{a.push({id:t,task:o(e)})}))}return a=a.filter((e=>{let{task:n}=e;if(n.dueDate){if(t.startDate&&p(n.dueDate,t.startDate))return!1;if(t.endDate&&p(t.endDate,n.dueDate))return!1}if(!t.completed&&n.isComplete())return!1;if(t.requireDueDate&&!n.dueDate)return!1;if(t.project){if("none"===t.project&&n.project)return!1;if("none"!==t.project&&n.project!==t.project)return!1}return"number"!=typeof t.priority||n.priority===t.priority})),a}var oa=class{constructor(){const e={tasks:new Map,tasksByDueDate:new Map,tasksByProject:new Map,tasksByPriority:new Map,eventEmitter:new(gn())};ra.set(this,e)}getTask(e){const t=ra.get(this).tasks.get(e);if(t)return hn()(t)}updateTask(e,t){const n=ra.get(this),r=n.tasks.get(e);if(!r)return!1;const a=hn()(t);n.tasks.set(e,a);const o=(t,n,r)=>{if(n===r){const n=function(t,n){const r=t.get(n);if(r)return r.find((t=>t.id===e))}(t,r);n.task=a}else kn(t,n,(t=>t.id===e)),wn(t,r,{id:e,task:a})};let i="none",s="none";return r.dueDate&&(i=tn(r.dueDate)),a.dueDate&&(s=tn(a.dueDate)),o(n.tasksByDueDate,i,s),i=r.project||"none",s=a.project||"none",o(n.tasksByProject,i,s),i=r.priority,s=a.priority,o(n.tasksByPriority,i,s),n.eventEmitter.emit("update-task",{type:"update-task",id:e,task:hn()(t)}),!0}addOrUpdateTask(e,t){if(!En(e))return!1;if(!this.updateTask(e,t)){const n=ra.get(this),r=hn()(t);n.tasks.set(e,r);const a={id:e,task:r};let o="none";t.dueDate&&(o=tn(t.dueDate));const i=t.project||"none",{priority:s}=t;wn(n.tasksByDueDate,o,{...a}),wn(n.tasksByProject,i,{...a}),wn(n.tasksByPriority,s,{...a}),n.eventEmitter.emit("add-task",{type:"add-task",id:e,task:hn()(t)})}return!0}addTask(e){const t=ra.get(this);let n;do{n=Ar()}while(t.tasks.has(n));return this.addOrUpdateTask(n,e),n}hasTask(e){return ra.get(this).tasks.has(e)}deleteTask(e){const t=ra.get(this),n=t.tasks.get(e);if(!n)return!1;let r="none";n.dueDate&&(r=tn(n.dueDate));const a=n.project||"none",{priority:o}=n;return t.tasks.delete(e),kn(t.tasksByDueDate,r,(t=>t.id===e)),kn(t.tasksByProject,a,(t=>t.id===e)),kn(t.tasksByPriority,o,(t=>t.id===e)),t.eventEmitter.emit("delete-task",{type:"delete-task",id:e,task:n}),!0}deleteAll(){const e=ra.get(this),t=[];e.tasks.forEach(((e,n)=>t.push({id:n,task:e}))),e.tasks.clear(),e.tasksByDueDate.clear(),e.tasksByProject.clear(),e.tasksByPriority.clear(),t.forEach((t=>{let{id:n,task:r}=t;e.eventEmitter.emit("delete-task",{type:"delete-task",id:n,task:r})}))}clearProject(e){const t=ra.get(this),n=t.tasksByProject,r=n.get(e);if(!r)return;const a=[];r.forEach((e=>{const{task:t}=e;t.project=null,wn(n,"none",e),a.push(e)})),n.delete(e),a.forEach((e=>{let{id:n,task:r}=e;t.eventEmitter.emit("update-task",{type:"update-task",id:n,task:hn()(r)})}))}forEach(e){ra.get(this).tasks.forEach(((t,n)=>{const r=hn()(t);e({id:n,task:r})}))}count(){return aa(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).length}entries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.sortBy||[],n=e;n.cloneTasks=!0;let r=aa(this,n);return r=r.sort(((n,r)=>{const a=n.task,o=r.task;for(let n=0;n<t.length;n+=1){const r=t[n].caseSensitive??!1,i=t[n].descending??!1,s=t[n].missingLast??!1,c=i?1:-1,l=i?-1:1;switch(t[n].field){case"name":{let e=a.name,t=o.name;if(r||(e=e.toLowerCase(),t=t.toLowerCase()),e<t)return c;if(e>t)return l;break}case"due-date":{const e=a.dueDate,t=o.dueDate;if(!e&&t)return s?l:c;if(e&&!t)return s?c:l;if(e&&t&&!W(e,t))return p(e,t)?c:l;break}case"create-date":if(p(a.creationDate,o.creationDate))return c;if(p(o.creationDate,a.creationDate))return l;break;case"priority":if(a.priority<o.priority)return c;if(a.priority>o.priority)return l;break;case"project":{const t=a.project,n=o.project;if(!t&&n)return s?l:c;if(t&&!n)return s?c:l;if(t&&n){const{projectList:a}=e;if(!a)break;let o=a.getProject(t).name,i=a.getProject(n).name;if(r||(o=o.toLowerCase(),i=i.toLowerCase()),o<i)return c;if(o>i)return l}break}default:return 0}}return 0})),r}addEventListener(e,t){ra.get(this).eventEmitter.on(e,t)}toJSON(){const e=[];return ra.get(this).tasks.forEach(((t,n)=>{const r=hn()(t);r.id=n,e.push(r)})),e}toCsv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];e.projectList&&t.push("Project Name"),t.push("Project UUID"),e.projectList&&t.push("Project Description");const n=["Name","UUID","Due Date","Date Added","Date Completed","Priority","Description",...t,"Recurrence Interval Unit","Recurrence Interval Length","Recurrence Start Date","Recurrence Based on Completion?","Recurrence Week Number","Recurrence Week Days","Recurrence Month","Recurrence Day","Recurrence Weekend Behavior","Recurrence End Date","Recurrence Max Count"],r=e.newlineSequence??"\r\n",a={newlineSequence:r},o=e=>e?.toJSON()??"",i=[Qn(n,a)];return ra.get(this).tasks.forEach(((t,n)=>{const r=[t.name,n,o(t.dueDate),o(t.creationDate),o(t.completionDate),In.convertPriorityToPrettyString(t.priority),t.description??""];if(e.projectList){let n=null;t.project&&(n=e.projectList.getProject(t.project)),r.push(n?.name??"",t.project??"",n?.description??"")}else r.push(t.project??"");const{recurringDate:s}=t;let c="";switch(s?.intervalUnit){case"day":c="Day";break;case"week":c="Week";break;case"month":c="Month";break;case"year":c="Year"}let l="";s?.daysOfWeek&&(l=s.daysOfWeek.map(an).join(", "));let u="";Number.isInteger(s?.month)&&(u=on(s.month));let d="";switch(s?.onWeekend){case"no-change":d="No Change";break;case"previous-weekday":d="Use Previous Weekday";break;case"next-weekday":d="Use Next Weekday";break;case"nearest-weekday":d="Use Nearest Weekday"}r.push(c,s?.intervalLength.toString()??"",o(s?.startDate),s?.baseOnCompletion.toString()??"",s?.weekNumber?.toString()??"",l,u,s?.dayOfMonth?.toString()??"",d,o(s?.endDate),s?.maxCount?.toString()??""),i.push(Qn(r,a))})),i.push(""),i.join(r)}importFromJson(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={added:0,updated:0,failed:0,total:0},r=[];return Array.isArray(e)?(e.forEach((e=>{const a=(t,n,a)=>{if(null==n)return;const o=`Warning: Task "${e.name}"`;let i;switch(t){case"bad-type":i=a.allowConversion&&"string"==typeof n?`Expected type "${a.expectedType}" for property "${a.valueName}" (conversion from type "string" failed).`:`Expected type "${a.expectedType}" for property "${a.valueName}" (received "${xn(n)}").`;break;case"unknown-value":i=`Unrecognized value "${n}" for property "${a.valueName}".`;break;case"not-integer":i=`Value for property "${a.valueName}" must be an integer (received "${n}").`;break;case"too-low":i=`Value for property "${a.valueName}" cannot be below "${a.min}" (received "${n}").`;break;case"too-high":i=`Value for property "${a.valueName}" cannot be above "${a.max}" (received "${n}").`;break;case"bad-date":i=`Expected a date in ISO format for property "${a.valueName}" (received "${n}").`;break;case"bad-id":i=`Expected a version 4 UUID for property "${a.valueName}" (received "${n}").`;break;case"failed-predicate":i="project"===a.valueName?`Unrecognized project identifier "${n}" for property "${a.valueName}".`:`Failed custom validation for property "${a.valueName}.`;break;default:i=`Encountered unrecognized error "${t}" for property "${a.valueName}".`}r.push(`${o}: ${i}`)};if(null==e.name)r.push("Error: Task must have a name."),n.failed+=1;else if("string"!=typeof e.name)r.push(`Error: Expected type "string" for task name (received "${xn(e.name)}").`),n.failed+=1;else if(0===e.name.length)r.push("Error: Task name must not be empty."),n.failed+=1;else{const r={};let o=null;if(Dn(e.id,{valueName:"id",expectedType:"string",requireUuid:!0,errorCallback:a})&&(o=e.id),Dn(e.dueDate,{valueName:"dueDate",expectedType:"date",allowConversion:!0,successCallback:e=>{r.dueDate=e},errorCallback:a}),Dn(e.creationDate,{valueName:"creationDate",expectedType:"date",allowConversion:!0,successCallback:e=>{r.creationDate=e},errorCallback:a}),Dn(e.completionDate,{valueName:"completionDate",expectedType:"date",allowConversion:!0,successCallback:e=>{r.completionDate=e},errorCallback:a}),null!=e.priority){const t=e=>{r.priority=e};"string"==typeof e.priority?Dn(e.priority,{valueName:"priority",expectedValues:["very-low","low","medium","high","very-high"],successCallback:t,errorCallback:a}):Dn(e.priority,{valueName:"priority",expectedType:"number",requireInteger:!0,successCallback:t,errorCallback:a})}if(Dn(e.description,{valueName:"description",expectedType:"string",errorCallback:a})&&(r.description=e.description),Dn(e.recurringDate,{valueName:"recurringDate",expectedType:"object",errorCallback:a})&&Dn(e.recurringDate.intervalUnit,{valueName:"recurringDate.intervalUnit",expectedType:"string",expectedValues:["day","week","month","year"],errorCallback:a})){const{recurringDate:t}=e,n={};if(Dn(t.intervalLength,{valueName:"recurringDate.intervalLength",expectedType:"number",requireInteger:!0,min:1,errorCallback:a})&&(n.intervalLength=t.intervalLength),Dn(t.startDate,{valueName:"recurringDate.startDate",expectedType:"date",allowConversion:!0,successCallback:e=>{n.startDate=e},errorCallback:a}),Dn(t.baseOnCompletion,{valueName:"recurringDate.baseOnCompletion",expectedType:"boolean",errorCallback:a})&&(n.baseOnCompletion=t.baseOnCompletion),Dn(t.weekNumber,{valueName:"recurringDate.weekNumber",expectedType:"number",requireInteger:!0,min:1,max:5,errorCallback:a})&&(n.weekNumber=t.weekNumber),Dn(t.daysOfWeek,{valueName:"recurringDate.daysOfWeek",expectedType:"array",errorCallback:a})){const e=[];t.daysOfWeek.forEach(((t,n)=>{Dn(t,{valueName:`recurringDate.daysOfWeek[${n}]`,expectedType:"number",requireInteger:!0,min:0,max:6,errorCallback:a})&&e.push(t)})),n.daysOfWeek=e}Dn(t.month,{valueName:"recurringDate.month",expectedType:"number",requireInteger:!0,min:0,max:11,errorCallback:a})&&(n.month=t.month),Dn(t.dayOfMonth,{valueName:"recurringDate.dayOfMonth",expectedType:"number",requireInteger:!0,min:1,max:31,errorCallback:a})&&(n.dayOfMonth=t.dayOfMonth),Dn(t.onWeekend,{valueName:"recurringDate.onWeekend",expectedType:"string",expectedValues:["no-change","previous-weekday","next-weekday","nearest-weekday"],errorCallback:a})&&(n.onWeekend=t.onWeekend),Dn(t.endDate,{valueName:"recurringDate.endDate",expectedType:"date",allowConversion:!0,successCallback:e=>{n.endDate=e},errorCallback:a}),Dn(t.maxCount,{valueName:"recurringDate.maxCount",expectedType:"number",requireInteger:!0,min:0,errorCallback:a})&&(n.maxCount=t.maxCount);const o=new pn(e.recurringDate.intervalUnit,n);r.recurringDate=o}Dn(e.project,{valueName:"project",expectedType:"string",requireUuid:!0,customPredicate:e=>{const{projectList:n}=t;return!n||n.hasProject(e)},errorCallback:a})&&(r.project=e.project),o&&this.hasTask(o)?n.updated+=1:n.added+=1;const i=new In(e.name,r);o?this.addOrUpdateTask(o,i):this.addTask(i)}})),n.total=n.added+n.updated+n.failed,{tasks:n,errors:r}):(r.push('Error: Expected "tasks" property to be an array.'),{tasks:n,errors:r})}importFromCsv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.length>0?e[0]:[],r=[];return e.forEach(((e,t)=>{if(0===t)return;const a={},o={};e.forEach(((e,t)=>{if(!(t>=n.length||0===e.length))switch(n[t].toLowerCase()){case"name":a.name=e;break;case"uuid":a.id=e;break;case"due date":case"due-date":a.dueDate=e;break;case"date added":case"date-added":a.creationDate=e;break;case"date completed":case"date-completed":a.completionDate=e;break;case"priority":a.priority=In.convertStringToPriority(e);break;case"description":a.description=e;break;case"project uuid":case"project-uuid":a.project=e;break;case"recurrence interval unit":case"recurrence-interval-unit":o.intervalUnit=e.toLowerCase();break;case"recurrence interval length":case"recurrence-interval-length":o.intervalLength=Number(e);break;case"recurrence start date":case"recurrence-start-date":o.startDate=e;break;case"recurrence based on completion?":case"recurrence based on completion":case"recurrence-based-on-completion":o.baseOnCompletion="true"===e.toLowerCase();break;case"recurrence week number":case"recurrence-week-number":o.weekNumber=Number(e);break;case"recurrence week days":case"recurrence-week-days":o.daysOfWeek=e.split(",").map((e=>function(e){const t=e.toLowerCase(),n=Xt.findIndex((e=>e.toLowerCase()===t));return n<0?null:n}(e.trim()))).filter((e=>null!=e));break;case"recurrence month":case"recurrence-month":o.month=function(e){const t=e.toLowerCase(),n=Zt.findIndex((e=>e.name.toLowerCase()===t));return n<0?null:n}(e);break;case"recurrence day":case"recurrence-day":o.dayOfMonth=Number(e);break;case"recurrence weekend behavior":case"recurrence-weekend-behavior":{let t=null;switch(e.toLowerCase()){case"no change":case"no-change":t="no-change";break;case"use previous weekday":case"previous weekday":case"previous-weekday":t="previous-weekday";break;case"use next weekday":case"next weekday":case"next-weekday":t="next-weekday";break;case"use nearest weekday":case"nearest weekday":case"nearest-weekday":t="nearest-weekday"}o.onWeekend=t;break}case"recurrence end date":case"recurrence-end-date":o.endDate=e;break;case"recurrence max count":case"recurrence-max-count":o.maxCount=Number(e)}})),Sr()(o)||(a.recurringDate=o),Sr()(a)||r.push(a)})),this.importFromJson(r,t)}};const ia=24,sa=24,ca=new WeakMap;function la(e,t){const n={};switch(e){case"dates":{const e=l(c(new Date)),r={};switch(t){case"week":r.weeks=1,r.days=-1;break;case"month":r.months=1,r.days=-1;break;case"past-due":r.days=-1,n.requireDueDate=!0}n.endDate=d(e,r);break}case"projects":n.project=t;break;case"priorities":{const e=In.convertStringToPriority(t);n.priority=e;break}}return n}function ua(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ca.get(e),{group:r,filter:a}=n.currentFilter;let o=null,i=null;const s=la(r,a),l={endDate:s.endDate,groupBy:"due-date",sortBy:"create-date",priority:s.priority,project:s.project,requireDueDate:s.requireDueDate,resetScroll:t.resetScroll??!0,dateFormat:n.settings.dateFormat};let u,d=!1;switch(r){case"dates":{u=n.settings.getFilterOptions("dates");const e=c(new Date);switch(a){case"today":o="Today",i=en(e,"eeee, MMMM d, yyyy");break;case"week":o="This Week";break;case"month":o="This Month";break;case"past-due":o="Past Due",d=!0}if("today"!==a&&"past-due"!==a){const t=n.settings.dateFormat.outputPattern;i=`${en(e,t)} to ${en(l.endDate,t)}`}break}case"projects":if(u=n.settings.getFilterOptions("projects"),"none"===a)o="Uncategorized";else{const e=n.projects.getProject(a);o=e.name,i=e.description||null}break;case"priorities":{u=n.settings.getFilterOptions("priorities");const e=In.convertStringToPriority(a);o=`${In.convertPriorityToPrettyString(e)} Priority`;break}default:u=n.settings.getFilterOptions("default"),o="All Tasks"}"default"!==u.groupBy&&(l.groupBy=u.groupBy),"default"!==u.sortBy&&(l.sortBy=u.sortBy),l.completed=!d&&u.showCompleted,l.groupDescending=u.groupDescending,l.sortDescending=u.sortDescending,l.missingLast=!0,function(e,t){const n=document.getElementById("main-panel-heading"),r=document.getElementById("main-panel-subheading");n.textContent=e,t?(r.textContent=t,r.style.display="block"):(r.textContent="",r.style.display="none")}(o,i),n.taskDisplay.update(l),function(e){const t=ca.get(e),{group:n,filter:r}=t.currentFilter,a=t.settings.getFilterOptions(n),o=e=>({source:e,width:ia,height:sa}),i={type:"separator"},{groupBy:s,sortBy:c,groupDescending:l,sortDescending:u,showCompleted:d}=a,p=[{label:"Add Task...",id:"add-task",icon:o(m)},{label:"Add Project...",id:"add-project",icon:o(m)},i];"projects"===n&&"none"!==r&&(p.push({label:"Edit Project...",id:"edit-project",icon:o(v)}),p.push({label:"Delete Project...",id:"delete-project",icon:o(g)})),"dates"===n&&"past-due"===r||p.push({label:"Show Completed Tasks",id:"toggle-completed",checked:d,icon:o(y)}),"none"!==s&&p.push({label:"Group Descending",id:"toggle-group-descending",checked:l,icon:o(k)}),p.push({label:"Sort Descending",id:"toggle-sort-descending",checked:u,icon:o(k)});const f=[{label:"Use Default Grouping",id:"group-by-default",checked:"default"===s,icon:o(b)},{label:"Do Not Group Tasks",id:"group-by-none",checked:"none"===s,icon:o(b)},{label:"Group by Due Date",id:"group-by-due-date",checked:"due-date"===s,icon:o(b)}],h=[{label:"Use Default Sorting",id:"sort-by-default",checked:"default"===c,icon:o(D)},{label:"Sort by Name",id:"sort-by-name",checked:"name"===c,icon:o(D)},{label:"Sort by Date Added",id:"sort-by-create-date",checked:"create-date"===c,icon:o(D)},{label:"Sort by Due Date",id:"sort-by-due-date",checked:"due-date"===c,icon:o(D)}];"projects"!==n&&(f.push({label:"Group by Project",id:"group-by-project",checked:"project"===s,icon:o(b)}),h.push({label:"Sort by Project",id:"sort-by-project",checked:"project"===c,icon:o(D)})),"priorities"!==n&&(f.push({label:"Group by Priority",id:"group-by-priority",checked:"priority"===s,icon:o(b)}),h.push({label:"Sort by Priority",id:"sort-by-priority",checked:"priority"===c,icon:o(D)}));const w=[...p,i,...f,i,...h];t.mainPanelMenu.setMenuItems(w)}(e)}function da(e){!function(e){const t=ca.get(e),n=t.filterMenu.getSelection();if(t.filterMenu.removeAllFilters("projects"),t.filterMenu.addFilter("projects","none","Uncategorized"),t.projects.forEach((e=>{t.filterMenu.addFilter("projects",e.id,e.project.name)})),"projects"===n.group){const{filter:e}=n;t.filterMenu.hasFilter("projects",e)?t.filterMenu.selectFilter("projects",e):t.filterMenu.selectFilter("projects","none")}}(e),function(e){const{filterMenu:t,tasks:n}=ca.get(e);t.filters().forEach((e=>{let{group:r,filter:a}=e;const o=la(r,a);t.setItemCount(r,a,n.count(o))}))}(e)}function pa(e,t){const n=ca.get(e),r={added:0,updated:0,failed:0,total:0},a={...r},o=[];try{const{app:e,settings:i,tasks:s,projects:c}=JSON.parse(t);if(e?.name!==L.name||null==e?.version?o.push("Warning: Imported data does not follow the expected schema. The data may have been created by a different application, or may have been altered."):function(e,t){const n=e=>{const t=e.match(/^([0-9]+)(\.([0-9]+)(\.([0-9]+))?)?/);if(!t)throw new RangeError(`Invalid semantic version "${e}"`);return{major:Number(t[1]),minor:null!=t[3]?Number(t[3]):0,patch:null!=t[5]?Number(t[5]):0}},r=n(e),a=n(t);return r.major!==a.major?r.major<a.major?-1:1:r.minor!==a.minor?r.minor<a.minor?-1:1:r.patch!==a.patch?r.patch<a.patch?-1:1:0}(e.version,L.version)>0&&o.push("Warning: Imported data seems to have been created by a newer version of the application. Some information might not be imported or might be imported incorrectly."),null!=i){const e=n.settings.importFromJson(i);o.push(...e.errors)}if(null!=c){const e=n.projects.importFromJson(c);Object.assign(a,e.projects),o.push(...e.errors)}if(null!=s){const e=n.tasks.importFromJson(s,{projectList:n.projects});Object.assign(r,e.tasks),o.push(...e.errors)}return{successful:!0,format:"json",tasks:r,projects:a,errors:o}}catch(e){if(e instanceof SyntaxError)return{successful:!1,format:"json",tasks:r,projects:a,errors:[`Fatal Error: ${e.message}`]};throw e}}function fa(e,t){const n=ca.get(e),r={added:0,updated:0,failed:0,total:0},a={...r},o=[],i=function(e){const t=[];let n=[],r="";const a=()=>{n.push(r),r=""},o=()=>{t.push(n),n=[]};let i=!1;for(let t=0;t<e.length;t+=1)switch(e[t]){case'"':i?t+1<e.length&&'"'===e[t+1]?(r+='"',t+=1):i=!1:i=!0;break;case"\r":case"\n":"\r"===e[t]&&t+1<e.length&&"\n"===e[t+1]&&(t+=1),i?r+="\n":(a(),o());break;case",":i?r+=",":a();break;default:r+=e[t]}if(e.length>0){const t=e[e.length-1];"\r"!==t&&"\n"!==t&&(a(),o())}return t}(t);let s;return s=n.projects.importFromCsv(i),Object.assign(a,s.projects),o.push(...s.errors),s=n.tasks.importFromCsv(i,{projectList:n.projects}),Object.assign(r,s.tasks),o.push(...s.errors),{successful:!0,format:"csv",tasks:r,projects:a,errors:o}}function ha(e,t,n,r){const a=ca.get(e),o=new Wn(t,{confirm:n||null,cancel:r||null});a.modalStack.showModal(o)}function ma(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ca.get(e),r=new An(n.tasks,n.projects,{taskId:t.taskId||null,projectId:t.projectId||null,priority:t.priority??0,dateFormat:n.settings.dateFormat,confirm:()=>{da(e),ua(e,{resetScroll:!1})},newProject:()=>da(e)});n.modalStack.showModal(r)}function ga(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ca.get(e);let r=null;t.projectId&&(r=n.projects.getProject(t.projectId));const a=new N({confirm:r=>{let a=null;t.projectId?n.projects.updateProject(t.projectId,r):a=n.projects.addProject(r),da(e),a&&n.filterMenu.selectFilter("projects",a)},project:r});n.modalStack.showModal(a)}function ya(e,t){const n=ca.get(e),{group:r,filter:a}=n.currentFilter,o=n.settings.getFilterOptions(r);let i=!0,s=!0;switch(t){case"add-task":{const t={};"projects"===r&&"none"!==a?t.projectId=a:"priorities"===r&&(t.priority=In.convertStringToPriority(a)),ma(e,t),i=!1,s=!1;break}case"add-project":ga(e),i=!1,s=!1;break;case"edit-project":ga(e,{projectId:a}),s=!1;break;case"delete-project":{const t=n.projects.getProject(a);if(!t)break;ha(e,`Are you sure you want to delete the project '${t.name}'?`,(()=>{n.tasks.clearProject(a),n.projects.deleteProject(a),da(e)})),i=!1,s=!1;break}case"toggle-completed":o.showCompleted=!o.showCompleted;break;case"toggle-group-descending":o.groupDescending=!o.groupDescending;break;case"toggle-sort-descending":o.sortDescending=!o.sortDescending;break;case"group-by-default":o.groupBy="default",o.groupDescending=!1;break;case"group-by-none":o.groupBy="none",o.groupDescending=!1;break;case"group-by-due-date":o.groupBy="due-date",o.groupDescending=!1;break;case"group-by-project":o.groupBy="project",o.groupDescending=!1;break;case"group-by-priority":o.groupBy="priority",o.groupDescending=!0;break;case"sort-by-default":o.sortBy="default",o.sortDescending=!1;break;case"sort-by-name":o.sortBy="name",o.sortDescending=!1;break;case"sort-by-create-date":o.sortBy="create-date",o.sortDescending=!1;break;case"sort-by-due-date":o.sortBy="due-date",o.sortDescending=!1;break;case"sort-by-project":o.sortBy="project",o.sortDescending=!1;break;case"sort-by-priority":o.sortBy="priority",o.sortDescending=!0}s&&n.settings.setFilterOptions(r,o),i&&ua(e,{resetScroll:!1})}function va(e,t){switch(t){case"settings":!function(e){const t=ca.get(e),n=new qr(t.settings,{confirm:()=>ua(e,{resetScroll:!1})});t.modalStack.showModal(n)}(e);break;case"data":!function(e){const t=ca.get(e),n=new Zn({importData:(n,r)=>{let{name:a}=r;const o=function(e,t,n){switch(n?function(e){const t=e.lastIndexOf(".");return t>0?e.substring(t):""}(n).toLowerCase():""){case".json":return pa(e,t);case".csv":return fa(e,t);default:{let n=pa(e,t);if(!n.successful&&(n=fa(e,t),!n.successful)){const e={added:0,updated:0,failed:0,total:0};return{successful:!1,format:"unknown",tasks:{...e},projects:{...e},errors:["Fatal Error: Unable to determine file format. Imported data must be in either JSON or CSV format."]}}return n}}}(e,n,a);o.projects.total+o.tasks.total>0&&(da(e),o.tasks.total>0&&ua(e,{resetScroll:!1}));const i=document.createElement("div"),s=document.createElement("div");if(s.classList.add("data-import-results"),i.appendChild(s),o.successful?s.textContent=["Data import succeeded.",`Processed ${o.tasks.total} ${1!==o.tasks.total?"tasks":"task"}: ${o.tasks.added} added, ${o.tasks.updated} updated, ${o.tasks.failed} failed.`,`Processed ${o.projects.total} ${1!==o.projects.total?"projects":"project"}: ${o.projects.added} added, ${o.projects.updated} updated, ${o.projects.failed} failed.`].join("\n"):s.textContent="Data import failed.",o.errors.length>0){const e=document.createElement("ul");e.classList.add("data-import-error-list"),o.errors.forEach((t=>{const n=document.createElement("li");n.classList.add("data-import-results"),n.textContent=t,e.appendChild(n)})),i.appendChild(e)}const c=new ur(i,{title:"Import Status"});t.modalStack.showModal(c)},exportData:(t,n)=>{"csv"===t?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{tasks:n,projects:r}=ca.get(e);Vn(n.toCsv({newlineSequence:t.newlineSequence??"\r\n",projectList:r}),"tasks.csv","text/csv")}(e,n):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=`${JSON.stringify(e,null,2)}\n`;t.newlineSequence&&(n=n.replace(/\n/g,t.newlineSequence)),Vn(n,"tasks.json","application/json")}(e,n)},deleteAll:()=>function(e){const t=ca.get(e);t.settings.resetToDefault(),t.tasks.deleteAll(),t.projects.deleteAll(),da(e),ua(e)}(e)});t.modalStack.showModal(n)}(e);break;case"about":!function(e){const t=document.createElement("div"),n=[{content:`Version ${L.version}`,classList:["about-modal-version"]},{content:[`Copyright ${L.copyrightYears} `,{content:L.author,url:L.authorWebsite,target:"_blank"},`. License: ${L.license}.`]},{content:[{content:"View full license information",url:"licenses.html",target:"_blank"},"."]}];t.appendChild(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.createElement("div");return t?.container?.id&&(n.id=t.container.id),t?.container?.classList&&n.classList.add(...t.container.classList),(Array.isArray(e)?e:[e]).forEach((e=>{const r=document.createElement("p");t?.classList&&r.classList.add(...t.classList);let a=null;Array.isArray(e)?a=e.map((e=>({content:e}))):"string"==typeof e?a=[{content:e}]:null==e.content?a=[]:Array.isArray(e.content)?a=e.content.map((e=>"string"==typeof e?{content:e}:e)):(e.id&&(r.id=e.id),e.classList&&r.classList.add(...e.classList),a="string"==typeof e.content?[{content:e.content}]:[e.content]),a.forEach((e=>{let t=null;null!=e.url?(t=document.createElement("a"),t.textContent=e.content??"",t.href=e.url,null!=e.target&&(t.target=e.target)):t=document.createTextNode(e.content??""),r.appendChild(t)})),n.appendChild(r)})),n}(n,{classList:["about-modal-paragraph"]}));const r=new ur(t,{title:L.name});ca.get(e).modalStack.showModal(r)}(e)}}function ba(e,t,n){const r=ca.get(e);if("setting"===t&&"storageMethod"===n.name)return"local"!==n.value&&function(e){if(Yn()){const t=window.localStorage;if(e){const t=[];Gn(e,(e=>t.push(e)),{includePrefix:!0,noValue:!0}),t.forEach((e=>Hn(null,e)))}else t.clear()}}(L.storagePrefix),void function(e){const t=ca.get(e);Un(L.storagePrefix,"app.version",L.version),"local"===t.settings.storageMethod?(t.tasks.forEach((e=>{let{id:t,task:n}=e;Un(L.storagePrefix,`task.${t}`,n)})),t.projects.forEach((e=>{let{id:t,project:n}=e;Un(L.storagePrefix,`project.${t}`,n)})),t.settings.forEach(((e,t)=>{Un(L.storagePrefix,`setting.${e}`,t)}))):Un(L.storagePrefix,"setting.storageMethod","none")}(e);if("local"===r.settings.storageMethod)switch(t){case"task":{const{type:e,id:t,task:r}=n,a=`task.${t}`;switch(e){case"add-task":case"update-task":Un(L.storagePrefix,a,r);break;case"delete-task":Hn(L.storagePrefix,a)}break}case"project":{const{type:e,id:t,project:r}=n,a=`project.${t}`;switch(e){case"add-project":case"update-project":Un(L.storagePrefix,a,r);break;case"delete-project":Hn(L.storagePrefix,a)}break}case"setting":{const{name:e,value:t}=n;Un(L.storagePrefix,`setting.${e}`,t);break}}}function wa(e,t){const n=ca.get(e),r=document.createElement("div");r.id="app",n.elements.appContainer=r,function(e,t){const{elements:n}=ca.get(e),r=document.createElement("header");r.id="header";const a=T(f,{altText:"Toggle side panel",width:ia,height:sa});n.menuButton=a;const o=document.createElement("div");o.classList.add("title-container"),o.appendChild(a);const i=document.createElement("p");i.classList.add("title"),i.textContent=L.name,o.appendChild(i),r.appendChild(o);const s=T(h,{altText:"More options",width:ia,height:sa});n.appOptionsButton=s;const c=document.createElement("div");c.classList.add("tools"),c.appendChild(s),r.appendChild(c),t.appendChild(r)}(e,r);const a=document.createElement("div");a.id="middle-container",function(e,t){const{elements:n}=ca.get(e);n.sidePanel=document.createElement("aside"),n.sidePanel.id="side-panel",function(e){const t=ca.get(e),n=new cr(t.elements.sidePanel,[{id:"default",label:null},{id:"dates",label:"Dates"},{id:"projects",label:"Projects"},{id:"priorities",label:"Priorities"}]);[{groupId:"default",filterId:"all",label:"All Tasks"},{groupId:"dates",filterId:"today",label:"Today"},{groupId:"dates",filterId:"week",label:"This Week"},{groupId:"dates",filterId:"month",label:"This Month"},{groupId:"dates",filterId:"past-due",label:"Past Due"},{groupId:"priorities",filterId:"very-high",label:"Very High"},{groupId:"priorities",filterId:"high",label:"High"},{groupId:"priorities",filterId:"medium",label:"Medium"},{groupId:"priorities",filterId:"low",label:"Low"},{groupId:"priorities",filterId:"very-low",label:"Very Low"}].forEach((e=>{n.addFilter(e.groupId,e.filterId,e.label)})),n.addEventListener("select-filter",(t=>{!function(e,t){if(!t.groupId||!t.filterId)return;const n=ca.get(e);n.currentFilter.group=t.groupId,n.currentFilter.filter=t.filterId,ua(e)}(e,t)})),n.addGroupIconButton("projects",m,{altText:"Add project",width:ia,height:sa,callback:()=>ga(e)}),t.filterMenu=n,da(e)}(e),t.appendChild(n.sidePanel)}(e,a),function(e,t){const{elements:n}=ca.get(e);n.resizer=document.createElement("div"),n.resizer.classList.add("resizer");const r=e=>{const t=`${e.x}px`;n.sidePanel.style.width=t,e.preventDefault()};n.resizer.addEventListener("mousedown",(e=>{0===e.button&&(document.addEventListener("mousemove",r),e.target.classList.add("dragging"),e.preventDefault())})),document.addEventListener("mouseup",(e=>{0===e.button&&(document.removeEventListener("mousemove",r),n.resizer.classList.remove("dragging"))})),t.appendChild(n.resizer)}(e,a),function(e,t){const n=ca.get(e),r=document.createElement("div");r.id="main-panel-container";const a=document.createElement("div");a.id="main-panel",n.elements.mainPanel=a,r.appendChild(a);const o=document.createElement("div");o.id="main-panel-header";const i=document.createElement("div");i.id="main-panel-heading-container",o.appendChild(i);const s=document.createElement("h2");s.id="main-panel-heading",i.appendChild(s);const c=document.createElement("h3");c.id="main-panel-subheading",i.appendChild(c);const l=new Cr({closeIfScrolled:a});n.mainPanelMenu=l;const u=T(m,{altText:"Add task",width:ia,height:sa});n.elements.addTaskButton=u;const d=T(w,{altText:"More actions",width:ia,height:sa});n.elements.mainPanelMenuButton=d;const p=document.createElement("div");p.classList.add("icon-container"),p.appendChild(u),p.appendChild(d),o.appendChild(p),a.appendChild(o);const f={taskCallback:(t,n,r)=>{!function(e,t,n,r){const a=ca.get(e);let o=!0,i=!0;switch(t){case"mark-complete":!function(e,t){const{tasks:n}=ca.get(e),r=n.getTask(t),a=new Date;if(r.recurringDate){let e=a;r.dueDate&&!r.recurringDate.baseOnCompletion&&(e=r.dueDate);const t=r.recurringDate.getNextOccurrence(e);t?(r.markIncomplete(),r.recurringDate.advance(),r.dueDate=t):(r.markComplete(),r.recurringDate=null)}else r.markComplete();n.updateTask(t,r)}(e,n);break;case"mark-incomplete":r.markIncomplete(),a.tasks.updateTask(n,r);break;case"edit":ma(e,{taskId:n}),o=!1,i=!1;break;case"clone":a.tasks.addTask(r);break;case"delete":ha(e,`Are you sure you want to delete the task '${r.name}'?`,(()=>{a.tasks.deleteTask(n),da(e),ua(e,{resetScroll:!1})})),o=!1,i=!1;break;case"go-to-project":a.filterMenu.selectFilter("projects",r.project||"none"),o=!1,i=!1;break;default:o=!1,i=!1}o&&da(e),i&&ua(e,{resetScroll:!1})}(e,t,n,r)}};n.taskDisplay=new Zr(a,n.tasks,n.projects,f),t.appendChild(r)}(e,a),r.appendChild(a),function(e){const t=document.createElement("footer");t.id="footer";const n=document.createElement("div");n.classList.add("copyright"),n.innerHTML=`Copyright &copy; ${L.copyrightYears} <a href="${L.authorWebsite}" target="_blank">${L.author}</a>`,t.appendChild(n),e.appendChild(t)}(r),t.appendChild(r),n.modalStack=new vr(t,r)}new class{constructor(e){const t={tasks:new oa,projects:new Rr,modalStack:null,filterMenu:null,currentFilter:{group:null,filter:null},taskDisplay:null,settings:new jn,mainPanelMenu:null,elements:{appContainer:null,sidePanel:null,resizer:null,mainPanel:null,menuButton:null,appOptionsButton:null,addTaskButton:null,mainPanelMenuButton:null},narrowScreen:!1};ca.set(this,t),wa(this,e)}run(){const e=ca.get(this);window.addEventListener("resize",(()=>{const t=document.documentElement.clientWidth<=700;t&&!e.narrowScreen?function(e){const{elements:t}=ca.get(e);t.sidePanel.classList.add("closed"),t.resizer.classList.add("closed")}(this):!t&&e.narrowScreen&&function(e){const{elements:t}=ca.get(e);t.sidePanel.classList.remove("closed"),t.resizer.classList.remove("closed")}(this),e.narrowScreen=t})),e.filterMenu.expandGroup("dates"),e.filterMenu.expandGroup("projects"),e.filterMenu.selectFilter("dates","today"),e.elements.menuButton.addEventListener("click",(()=>{!function(e){const{elements:t}=ca.get(e);t.sidePanel.classList.toggle("closed")?t.resizer.classList.add("closed"):t.resizer.classList.remove("closed")}(this)}));const{appOptionsButton:t}=e.elements,n=e=>({source:e,width:ia,height:sa}),r=new Cr({menuItems:[{label:"Settings...",id:"settings",icon:n(E)},{label:"Data Management...",id:"data",icon:n(x)},{label:"About...",id:"about",icon:n(C)}]});t.addEventListener("click",(()=>{r.open((e=>va(this,e)),{referenceElement:t})})),e.elements.addTaskButton.addEventListener("click",(()=>{ya(this,"add-task")}));const{mainPanelMenuButton:a}=e.elements;a.addEventListener("click",(()=>{e.mainPanelMenu.open((e=>ya(this,e)),{referenceElement:a})})),function(e){Un(L.storagePrefix,"app.version",L.version);const t=zn(L.storagePrefix,"setting.storageMethod");t&&"local"!==t||ca.get(e).settings.forEach(((e,t)=>{const n=`setting.${e}`;zn(L.storagePrefix,n)||Un(L.storagePrefix,n,t)}))}(this),function(e){const t=ca.get(e);Gn(L.storagePrefix,((e,n)=>{const r=e.indexOf("."),a=e.substring(0,r),o=e.substring(r+1);switch(a){case"task":t.tasks.addOrUpdateTask(o,In.fromJson(n));break;case"project":t.projects.addOrUpdateProject(o,M.fromJson(n));break;case"setting":t.settings.setSetting(o,n)}}))}(this);const o=e=>ba(this,"task",e);e.tasks.addEventListener("add-task",o),e.tasks.addEventListener("update-task",o),e.tasks.addEventListener("delete-task",o);const i=e=>ba(this,"project",e);e.projects.addEventListener("add-project",i),e.projects.addEventListener("update-project",i),e.projects.addEventListener("delete-project",i),e.settings.addEventListener("update-setting",(e=>ba(this,"setting",e))),function(e){const t=ca.get(e),{deleteAfter:n}=t.settings;if(null!==n){const e=[],r=c(new Date);t.tasks.forEach((t=>{let{id:a,task:o}=t;o.completionDate&&p(d(l(o.completionDate),{days:n-1}),r)&&e.push(a)})),e.forEach((e=>t.tasks.deleteTask(e)))}}(this),da(this),e.filterMenu.selectFilter("default","all")}toJSON(){const e=ca.get(this);return{app:{name:L.name,version:L.version},settings:e.settings,tasks:e.tasks,projects:e.projects}}}(document.body).run()}()}();